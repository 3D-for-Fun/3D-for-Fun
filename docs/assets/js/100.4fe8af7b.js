(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{699:function(e,n,s){"use strict";s.r(n);var t=s(4),a=Object(t.a)({},(function(){var e=this,n=e.$createElement,s=e._self._c||n;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h2",{attrs:{id:"_1-概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-概述"}},[e._v("#")]),e._v(" 1. 概述")]),e._v(" "),s("p",[e._v("本文主要介绍以下内容：")]),e._v(" "),s("blockquote",[s("ol",[s("li",[e._v("了解Mesh概念")]),e._v(" "),s("li",[e._v("学习使用几何体Geometry")]),e._v(" "),s("li",[e._v("学习使用three.js内置的几何体（Geometry）")]),e._v(" "),s("li",[e._v("学习使用BufferGeometry")]),e._v(" "),s("li",[e._v("了解BufferGeometry和Geometry的区别")]),e._v(" "),s("li",[e._v("了解几何体数据的制作，来源和使用")])])]),e._v(" "),s("p",[e._v("专栏代码地址：https://github.com/ue007/three.ts")]),e._v(" "),s("p",[e._v("本文代码地址：https://github.com/ue007/three.ts/tree/main/06-Geometries")]),e._v(" "),s("h2",{attrs:{id:"_2-mesh"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-mesh"}},[e._v("#")]),e._v(" 2. Mesh")]),e._v(" "),s("p",[e._v("在three.js概念里，mesh是由几何体Geometry和材质Material组成的，在源码Mesh.js可以看到之间的关系：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("function Mesh( geometry = new BufferGeometry(), material = new MeshBasicMaterial() ) {\n\n    Object3D.call( this );\n\n    this.type = 'Mesh';\n\n    this.geometry = geometry;\n    this.material = material;\n\n    this.updateMorphTargets();\n\n}\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br")])]),s("p",[e._v("Mesh  = Geometry + Material")]),e._v(" "),s("p",[e._v("为什么会有Mesh三角网的概念呢？")]),e._v(" "),s("p",[e._v("首先我们要回顾下图形渲染管线了。")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/05/10/61BD4LRhkFetw2u.png",alt:"语雀_Hqd1ChddUi.png"}})]),e._v(" "),s("p",[e._v("所以，从上图可以理解：")]),e._v(" "),s("blockquote",[s("p",[s("strong",[e._v("Geometry: 就是在准备顶点数据，对应****Vertex处理过程；")])]),e._v(" "),s("p",[s("strong",[e._v("Mesh: 就是对应的Triangle三角面处理过程；")])]),e._v(" "),s("p",[s("strong",[e._v("Material：对应Fragment片元处理过程，对每个三角面片进行着色、贴图等等处理；")])])]),e._v(" "),s("h2",{attrs:{id:"_3-geometry"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-geometry"}},[e._v("#")]),e._v(" 3. Geometry")]),e._v(" "),s("p",[e._v("几何体，就是在准备一堆顶点数据，主要包括顶点数据、颜色数据、UV贴图数据、法向量数据等等；简单的说，几何体就是数据源，如果你对如何通过三角面片拼接成几何体非常了解，完全可以自己组织数据，不幸的是，这样操作不仅麻烦，而且也是非常困难的事情。所以，three.js内置常用的几何体，供大家直接使用，然后控制Position、Scale、Rotation、visible等空间属性，来操控物体。")]),e._v(" "),s("p",[e._v("Three.js一共有 22 种内置的图元。")]),e._v(" "),s("table",[s("thead",[s("tr",[s("th",[e._v("图元种类(按英文首字母排序)")]),e._v(" "),s("th",[e._v("图元构造函数")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("盒子(Box)")]),e._v(" "),s("td",[e._v("BoxBufferGeometry、BoxGeometry")])]),e._v(" "),s("tr",[s("td",[e._v("平面圆(Circle)")]),e._v(" "),s("td",[e._v("CircleBufferGeometry、CircleGeometry")])]),e._v(" "),s("tr",[s("td",[e._v("锥形(Cone)")]),e._v(" "),s("td",[e._v("ConeBufferGeometry、ConeGeometry")])]),e._v(" "),s("tr",[s("td",[e._v("圆柱(Cylinder)")]),e._v(" "),s("td",[e._v("CylinderBufferGeometry、CylinderGeometry")])]),e._v(" "),s("tr",[s("td",[e._v("十二面体(Dodecahedron)")]),e._v(" "),s("td",[e._v("DodecahedronBufferGeometry、DodecahedronGeometry")])]),e._v(" "),s("tr",[s("td",[e._v("受挤压的2D形状(Extrude)")]),e._v(" "),s("td",[e._v("ExtrudeBufferGeometry、ExtrudeGeometry")])]),e._v(" "),s("tr",[s("td",[e._v("二十面体(Icosahedron)")]),e._v(" "),s("td",[e._v("IcosahedronBufferGeometry、IcosahedronGeometry")])]),e._v(" "),s("tr",[s("td",[e._v("由线旋转形成的形状(Lathe)")]),e._v(" "),s("td",[e._v("LatheBufferGeometry、LatheGeometry")])]),e._v(" "),s("tr",[s("td",[e._v("八面体(Octahedron)")]),e._v(" "),s("td",[e._v("OctahedronBufferGeometry、OctahedronGeometry")])]),e._v(" "),s("tr",[s("td",[e._v("由函数生成的形状(Parametric)")]),e._v(" "),s("td",[e._v("ParametricBufferGeometry、ParametriceGeometry")])]),e._v(" "),s("tr",[s("td",[e._v("2D平面矩形(Plane)")]),e._v(" "),s("td",[e._v("PlaneBufferGeometry、PlaneGeometry")])]),e._v(" "),s("tr",[s("td",[e._v("多面体(Polyhedron)")]),e._v(" "),s("td",[e._v("PolyhedronBufferGeometry、PolyhedronGeometry")])]),e._v(" "),s("tr",[s("td",[e._v("环形/孔形(Ring)")]),e._v(" "),s("td",[e._v("RingBufferGeometry、RingGeometry")])]),e._v(" "),s("tr",[s("td",[e._v("2D形状(Shape)")]),e._v(" "),s("td",[e._v("ShapeBufferGeometry、ShapeGeometry")])]),e._v(" "),s("tr",[s("td",[e._v("球体(Sphere)")]),e._v(" "),s("td",[e._v("SphereBufferGeometry、SphereGeometry")])]),e._v(" "),s("tr",[s("td",[e._v("四面体(Tetrahedron)")]),e._v(" "),s("td",[e._v("TetrahedronBufferGeometry、TetrahedronGeometry")])]),e._v(" "),s("tr",[s("td",[e._v("3D文字(Text)")]),e._v(" "),s("td",[e._v("TextBufferGeometry、TextGeometry")])]),e._v(" "),s("tr",[s("td",[e._v("环形体(Torus)")]),e._v(" "),s("td",[e._v("TorusBufferGeometry、TorusGeometry")])]),e._v(" "),s("tr",[s("td",[e._v("环形结(TorusKnot)")]),e._v(" "),s("td",[e._v("TorusKnotBufferGeometry、TorusKnotGeometry")])]),e._v(" "),s("tr",[s("td",[e._v("管道/管状(Tube)")]),e._v(" "),s("td",[e._v("TubeBufferGeometry、TubeGeometry")])]),e._v(" "),s("tr",[s("td",[e._v("几何体的所有边缘(Edges)")]),e._v(" "),s("td",[e._v("EdgesGeometry")])]),e._v(" "),s("tr",[s("td",[e._v("线框图(Wireframe)")]),e._v(" "),s("td",[e._v("WireframeGeometry")])])])]),e._v(" "),s("p",[e._v("简单整个例子，了解下使用流程，其他几何体触类旁通，参考three.js官网即可。")]),e._v(" "),s("p",[e._v("参考代码：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("import * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nimport Stats from 'three/examples/jsm/libs/stats.module';\nimport { GUI } from 'three/examples/jsm/libs/dat.gui.module';\n\nconst scene: THREE.Scene = new THREE.Scene();\nconst axesHelper = new THREE.AxesHelper(5);\nscene.add(axesHelper);\n\nconst camera: THREE.PerspectiveCamera = new THREE.PerspectiveCamera(\n  75,\n  window.innerWidth / window.innerHeight,\n  0.1,\n  1000\n);\n\nconst renderer: THREE.WebGLRenderer = new THREE.WebGLRenderer();\nrenderer.setSize(window.innerWidth, window.innerHeight);\ndocument.body.appendChild(renderer.domElement);\n\nconst controls = new OrbitControls(camera, renderer.domElement);\n//controls.addEventListener('change', render)\n\nconst boxGeometry: THREE.BoxGeometry = new THREE.BoxGeometry();\nconst sphereGeometry: THREE.SphereGeometry = new THREE.SphereGeometry();\nconst icosahedronGeometry: THREE.IcosahedronGeometry = new THREE.IcosahedronGeometry();\n\n//console.dir(geometry)\nconst material: THREE.MeshBasicMaterial = new THREE.MeshBasicMaterial({\n  color: 0x00ff00,\n  wireframe: true,\n});\n\nconst cube: THREE.Mesh = new THREE.Mesh(boxGeometry, material);\ncube.position.x = 5;\nscene.add(cube);\n\nconst sphere: THREE.Mesh = new THREE.Mesh(sphereGeometry, material);\nsphere.position.x = -5;\nscene.add(sphere);\n\nconst icosahedron: THREE.Mesh = new THREE.Mesh(icosahedronGeometry, material);\nscene.add(icosahedron);\n\ncamera.position.z = 5;\n\nwindow.addEventListener('resize', onWindowResize, false);\nfunction onWindowResize() {\n  camera.aspect = window.innerWidth / window.innerHeight;\n  camera.updateProjectionMatrix();\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  render();\n}\n\nconst stats = Stats();\ndocument.body.appendChild(stats.dom);\n\nconst gui = new GUI();\nconst cubeFolder = gui.addFolder('Cube');\nconst cubeRotationFolder = cubeFolder.addFolder('Rotation');\ncubeRotationFolder.add(cube.rotation, 'x', 0, Math.PI * 2, 0.01);\ncubeRotationFolder.add(cube.rotation, 'y', 0, Math.PI * 2, 0.01);\ncubeRotationFolder.add(cube.rotation, 'z', 0, Math.PI * 2, 0.01);\nconst cubePositionFolder = cubeFolder.addFolder('Position');\ncubePositionFolder.add(cube.position, 'x', -10, 10);\ncubePositionFolder.add(cube.position, 'y', -10, 10);\ncubePositionFolder.add(cube.position, 'z', -10, 10);\nconst cubeScaleFolder = cubeFolder.addFolder('Scale');\ncubeScaleFolder\n  .add(cube.scale, 'x', -5, 5, 0.1)\n  .onFinishChange(() => console.dir(cube.geometry));\ncubeScaleFolder.add(cube.scale, 'y', -5, 5, 0.1);\ncubeScaleFolder.add(cube.scale, 'z', -5, 5, 0.1);\ncubeFolder.add(cube, 'visible', true);\ncubeFolder.open();\n\nvar cubeData = {\n  width: 1,\n  height: 1,\n  depth: 1,\n  widthSegments: 1,\n  heightSegments: 1,\n  depthSegments: 1,\n};\nconst cubePropertiesFolder = cubeFolder.addFolder('Properties');\ncubePropertiesFolder\n  .add(cubeData, 'width', 1, 30)\n  .onChange(regenerateBoxGeometry)\n  .onFinishChange(() => console.dir(cube.geometry));\ncubePropertiesFolder\n  .add(cubeData, 'height', 1, 30)\n  .onChange(regenerateBoxGeometry);\ncubePropertiesFolder\n  .add(cubeData, 'depth', 1, 30)\n  .onChange(regenerateBoxGeometry);\ncubePropertiesFolder\n  .add(cubeData, 'widthSegments', 1, 30)\n  .onChange(regenerateBoxGeometry);\ncubePropertiesFolder\n  .add(cubeData, 'heightSegments', 1, 30)\n  .onChange(regenerateBoxGeometry);\ncubePropertiesFolder\n  .add(cubeData, 'depthSegments', 1, 30)\n  .onChange(regenerateBoxGeometry);\n\nfunction regenerateBoxGeometry() {\n  let newGeometry = new THREE.BoxGeometry(\n    cubeData.width,\n    cubeData.height,\n    cubeData.depth,\n    cubeData.widthSegments,\n    cubeData.heightSegments,\n    cubeData.depthSegments\n  );\n  cube.geometry.dispose();\n  cube.geometry = newGeometry;\n}\n\nvar sphereData = {\n  radius: 1,\n  widthSegments: 8,\n  heightSegments: 6,\n  phiStart: 0,\n  phiLength: Math.PI * 2,\n  thetaStart: 0,\n  thetaLength: Math.PI,\n};\nconst sphereFolder = gui.addFolder('Sphere');\nconst spherePropertiesFolder = sphereFolder.addFolder('Properties');\nspherePropertiesFolder\n  .add(sphereData, 'radius', 0.1, 30)\n  .onChange(regenerateSphereGeometry);\nspherePropertiesFolder\n  .add(sphereData, 'widthSegments', 1, 32)\n  .onChange(regenerateSphereGeometry);\nspherePropertiesFolder\n  .add(sphereData, 'heightSegments', 1, 16)\n  .onChange(regenerateSphereGeometry);\nspherePropertiesFolder\n  .add(sphereData, 'phiStart', 0, Math.PI * 2)\n  .onChange(regenerateSphereGeometry);\nspherePropertiesFolder\n  .add(sphereData, 'phiLength', 0, Math.PI * 2)\n  .onChange(regenerateSphereGeometry);\nspherePropertiesFolder\n  .add(sphereData, 'thetaStart', 0, Math.PI)\n  .onChange(regenerateSphereGeometry);\nspherePropertiesFolder\n  .add(sphereData, 'thetaLength', 0, Math.PI)\n  .onChange(regenerateSphereGeometry);\n\nfunction regenerateSphereGeometry() {\n  let newGeometry = new THREE.SphereGeometry(\n    sphereData.radius,\n    sphereData.widthSegments,\n    sphereData.heightSegments,\n    sphereData.phiStart,\n    sphereData.phiLength,\n    sphereData.thetaStart,\n    sphereData.thetaLength\n  );\n  sphere.geometry.dispose();\n  sphere.geometry = newGeometry;\n}\n\nvar icosahedronData = {\n  radius: 1,\n  detail: 0,\n};\nconst icosahedronFolder = gui.addFolder('Icosahedron');\nconst icosahedronPropertiesFolder = icosahedronFolder.addFolder('Properties');\nicosahedronPropertiesFolder\n  .add(icosahedronData, 'radius', 0.1, 10)\n  .onChange(regenerateIcosahedronGeometry);\nicosahedronPropertiesFolder\n  .add(icosahedronData, 'detail', 0, 5)\n  .step(1)\n  .onChange(regenerateIcosahedronGeometry);\n\nfunction regenerateIcosahedronGeometry() {\n  let newGeometry = new THREE.IcosahedronGeometry(\n    icosahedronData.radius,\n    icosahedronData.detail\n  );\n  icosahedron.geometry.dispose();\n  icosahedron.geometry = newGeometry;\n}\n\nvar animate = function () {\n  requestAnimationFrame(animate);\n\n  //cube.rotation.x += 0.01;\n  //cube.rotation.y += 0.01;\n\n  render();\n\n  (document.getElementById('debug1') as HTMLDivElement).innerText =\n    'Matrix\\n' + cube.matrix.elements.toString().replace(/,/g, '\\n');\n\n  stats.update();\n};\n\nfunction render() {\n  renderer.render(scene, camera);\n}\n//render()\nanimate();\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br"),s("span",{staticClass:"line-number"},[e._v("18")]),s("br"),s("span",{staticClass:"line-number"},[e._v("19")]),s("br"),s("span",{staticClass:"line-number"},[e._v("20")]),s("br"),s("span",{staticClass:"line-number"},[e._v("21")]),s("br"),s("span",{staticClass:"line-number"},[e._v("22")]),s("br"),s("span",{staticClass:"line-number"},[e._v("23")]),s("br"),s("span",{staticClass:"line-number"},[e._v("24")]),s("br"),s("span",{staticClass:"line-number"},[e._v("25")]),s("br"),s("span",{staticClass:"line-number"},[e._v("26")]),s("br"),s("span",{staticClass:"line-number"},[e._v("27")]),s("br"),s("span",{staticClass:"line-number"},[e._v("28")]),s("br"),s("span",{staticClass:"line-number"},[e._v("29")]),s("br"),s("span",{staticClass:"line-number"},[e._v("30")]),s("br"),s("span",{staticClass:"line-number"},[e._v("31")]),s("br"),s("span",{staticClass:"line-number"},[e._v("32")]),s("br"),s("span",{staticClass:"line-number"},[e._v("33")]),s("br"),s("span",{staticClass:"line-number"},[e._v("34")]),s("br"),s("span",{staticClass:"line-number"},[e._v("35")]),s("br"),s("span",{staticClass:"line-number"},[e._v("36")]),s("br"),s("span",{staticClass:"line-number"},[e._v("37")]),s("br"),s("span",{staticClass:"line-number"},[e._v("38")]),s("br"),s("span",{staticClass:"line-number"},[e._v("39")]),s("br"),s("span",{staticClass:"line-number"},[e._v("40")]),s("br"),s("span",{staticClass:"line-number"},[e._v("41")]),s("br"),s("span",{staticClass:"line-number"},[e._v("42")]),s("br"),s("span",{staticClass:"line-number"},[e._v("43")]),s("br"),s("span",{staticClass:"line-number"},[e._v("44")]),s("br"),s("span",{staticClass:"line-number"},[e._v("45")]),s("br"),s("span",{staticClass:"line-number"},[e._v("46")]),s("br"),s("span",{staticClass:"line-number"},[e._v("47")]),s("br"),s("span",{staticClass:"line-number"},[e._v("48")]),s("br"),s("span",{staticClass:"line-number"},[e._v("49")]),s("br"),s("span",{staticClass:"line-number"},[e._v("50")]),s("br"),s("span",{staticClass:"line-number"},[e._v("51")]),s("br"),s("span",{staticClass:"line-number"},[e._v("52")]),s("br"),s("span",{staticClass:"line-number"},[e._v("53")]),s("br"),s("span",{staticClass:"line-number"},[e._v("54")]),s("br"),s("span",{staticClass:"line-number"},[e._v("55")]),s("br"),s("span",{staticClass:"line-number"},[e._v("56")]),s("br"),s("span",{staticClass:"line-number"},[e._v("57")]),s("br"),s("span",{staticClass:"line-number"},[e._v("58")]),s("br"),s("span",{staticClass:"line-number"},[e._v("59")]),s("br"),s("span",{staticClass:"line-number"},[e._v("60")]),s("br"),s("span",{staticClass:"line-number"},[e._v("61")]),s("br"),s("span",{staticClass:"line-number"},[e._v("62")]),s("br"),s("span",{staticClass:"line-number"},[e._v("63")]),s("br"),s("span",{staticClass:"line-number"},[e._v("64")]),s("br"),s("span",{staticClass:"line-number"},[e._v("65")]),s("br"),s("span",{staticClass:"line-number"},[e._v("66")]),s("br"),s("span",{staticClass:"line-number"},[e._v("67")]),s("br"),s("span",{staticClass:"line-number"},[e._v("68")]),s("br"),s("span",{staticClass:"line-number"},[e._v("69")]),s("br"),s("span",{staticClass:"line-number"},[e._v("70")]),s("br"),s("span",{staticClass:"line-number"},[e._v("71")]),s("br"),s("span",{staticClass:"line-number"},[e._v("72")]),s("br"),s("span",{staticClass:"line-number"},[e._v("73")]),s("br"),s("span",{staticClass:"line-number"},[e._v("74")]),s("br"),s("span",{staticClass:"line-number"},[e._v("75")]),s("br"),s("span",{staticClass:"line-number"},[e._v("76")]),s("br"),s("span",{staticClass:"line-number"},[e._v("77")]),s("br"),s("span",{staticClass:"line-number"},[e._v("78")]),s("br"),s("span",{staticClass:"line-number"},[e._v("79")]),s("br"),s("span",{staticClass:"line-number"},[e._v("80")]),s("br"),s("span",{staticClass:"line-number"},[e._v("81")]),s("br"),s("span",{staticClass:"line-number"},[e._v("82")]),s("br"),s("span",{staticClass:"line-number"},[e._v("83")]),s("br"),s("span",{staticClass:"line-number"},[e._v("84")]),s("br"),s("span",{staticClass:"line-number"},[e._v("85")]),s("br"),s("span",{staticClass:"line-number"},[e._v("86")]),s("br"),s("span",{staticClass:"line-number"},[e._v("87")]),s("br"),s("span",{staticClass:"line-number"},[e._v("88")]),s("br"),s("span",{staticClass:"line-number"},[e._v("89")]),s("br"),s("span",{staticClass:"line-number"},[e._v("90")]),s("br"),s("span",{staticClass:"line-number"},[e._v("91")]),s("br"),s("span",{staticClass:"line-number"},[e._v("92")]),s("br"),s("span",{staticClass:"line-number"},[e._v("93")]),s("br"),s("span",{staticClass:"line-number"},[e._v("94")]),s("br"),s("span",{staticClass:"line-number"},[e._v("95")]),s("br"),s("span",{staticClass:"line-number"},[e._v("96")]),s("br"),s("span",{staticClass:"line-number"},[e._v("97")]),s("br"),s("span",{staticClass:"line-number"},[e._v("98")]),s("br"),s("span",{staticClass:"line-number"},[e._v("99")]),s("br"),s("span",{staticClass:"line-number"},[e._v("100")]),s("br"),s("span",{staticClass:"line-number"},[e._v("101")]),s("br"),s("span",{staticClass:"line-number"},[e._v("102")]),s("br"),s("span",{staticClass:"line-number"},[e._v("103")]),s("br"),s("span",{staticClass:"line-number"},[e._v("104")]),s("br"),s("span",{staticClass:"line-number"},[e._v("105")]),s("br"),s("span",{staticClass:"line-number"},[e._v("106")]),s("br"),s("span",{staticClass:"line-number"},[e._v("107")]),s("br"),s("span",{staticClass:"line-number"},[e._v("108")]),s("br"),s("span",{staticClass:"line-number"},[e._v("109")]),s("br"),s("span",{staticClass:"line-number"},[e._v("110")]),s("br"),s("span",{staticClass:"line-number"},[e._v("111")]),s("br"),s("span",{staticClass:"line-number"},[e._v("112")]),s("br"),s("span",{staticClass:"line-number"},[e._v("113")]),s("br"),s("span",{staticClass:"line-number"},[e._v("114")]),s("br"),s("span",{staticClass:"line-number"},[e._v("115")]),s("br"),s("span",{staticClass:"line-number"},[e._v("116")]),s("br"),s("span",{staticClass:"line-number"},[e._v("117")]),s("br"),s("span",{staticClass:"line-number"},[e._v("118")]),s("br"),s("span",{staticClass:"line-number"},[e._v("119")]),s("br"),s("span",{staticClass:"line-number"},[e._v("120")]),s("br"),s("span",{staticClass:"line-number"},[e._v("121")]),s("br"),s("span",{staticClass:"line-number"},[e._v("122")]),s("br"),s("span",{staticClass:"line-number"},[e._v("123")]),s("br"),s("span",{staticClass:"line-number"},[e._v("124")]),s("br"),s("span",{staticClass:"line-number"},[e._v("125")]),s("br"),s("span",{staticClass:"line-number"},[e._v("126")]),s("br"),s("span",{staticClass:"line-number"},[e._v("127")]),s("br"),s("span",{staticClass:"line-number"},[e._v("128")]),s("br"),s("span",{staticClass:"line-number"},[e._v("129")]),s("br"),s("span",{staticClass:"line-number"},[e._v("130")]),s("br"),s("span",{staticClass:"line-number"},[e._v("131")]),s("br"),s("span",{staticClass:"line-number"},[e._v("132")]),s("br"),s("span",{staticClass:"line-number"},[e._v("133")]),s("br"),s("span",{staticClass:"line-number"},[e._v("134")]),s("br"),s("span",{staticClass:"line-number"},[e._v("135")]),s("br"),s("span",{staticClass:"line-number"},[e._v("136")]),s("br"),s("span",{staticClass:"line-number"},[e._v("137")]),s("br"),s("span",{staticClass:"line-number"},[e._v("138")]),s("br"),s("span",{staticClass:"line-number"},[e._v("139")]),s("br"),s("span",{staticClass:"line-number"},[e._v("140")]),s("br"),s("span",{staticClass:"line-number"},[e._v("141")]),s("br"),s("span",{staticClass:"line-number"},[e._v("142")]),s("br"),s("span",{staticClass:"line-number"},[e._v("143")]),s("br"),s("span",{staticClass:"line-number"},[e._v("144")]),s("br"),s("span",{staticClass:"line-number"},[e._v("145")]),s("br"),s("span",{staticClass:"line-number"},[e._v("146")]),s("br"),s("span",{staticClass:"line-number"},[e._v("147")]),s("br"),s("span",{staticClass:"line-number"},[e._v("148")]),s("br"),s("span",{staticClass:"line-number"},[e._v("149")]),s("br"),s("span",{staticClass:"line-number"},[e._v("150")]),s("br"),s("span",{staticClass:"line-number"},[e._v("151")]),s("br"),s("span",{staticClass:"line-number"},[e._v("152")]),s("br"),s("span",{staticClass:"line-number"},[e._v("153")]),s("br"),s("span",{staticClass:"line-number"},[e._v("154")]),s("br"),s("span",{staticClass:"line-number"},[e._v("155")]),s("br"),s("span",{staticClass:"line-number"},[e._v("156")]),s("br"),s("span",{staticClass:"line-number"},[e._v("157")]),s("br"),s("span",{staticClass:"line-number"},[e._v("158")]),s("br"),s("span",{staticClass:"line-number"},[e._v("159")]),s("br"),s("span",{staticClass:"line-number"},[e._v("160")]),s("br"),s("span",{staticClass:"line-number"},[e._v("161")]),s("br"),s("span",{staticClass:"line-number"},[e._v("162")]),s("br"),s("span",{staticClass:"line-number"},[e._v("163")]),s("br"),s("span",{staticClass:"line-number"},[e._v("164")]),s("br"),s("span",{staticClass:"line-number"},[e._v("165")]),s("br"),s("span",{staticClass:"line-number"},[e._v("166")]),s("br"),s("span",{staticClass:"line-number"},[e._v("167")]),s("br"),s("span",{staticClass:"line-number"},[e._v("168")]),s("br"),s("span",{staticClass:"line-number"},[e._v("169")]),s("br"),s("span",{staticClass:"line-number"},[e._v("170")]),s("br"),s("span",{staticClass:"line-number"},[e._v("171")]),s("br"),s("span",{staticClass:"line-number"},[e._v("172")]),s("br"),s("span",{staticClass:"line-number"},[e._v("173")]),s("br"),s("span",{staticClass:"line-number"},[e._v("174")]),s("br"),s("span",{staticClass:"line-number"},[e._v("175")]),s("br"),s("span",{staticClass:"line-number"},[e._v("176")]),s("br"),s("span",{staticClass:"line-number"},[e._v("177")]),s("br"),s("span",{staticClass:"line-number"},[e._v("178")]),s("br"),s("span",{staticClass:"line-number"},[e._v("179")]),s("br"),s("span",{staticClass:"line-number"},[e._v("180")]),s("br"),s("span",{staticClass:"line-number"},[e._v("181")]),s("br"),s("span",{staticClass:"line-number"},[e._v("182")]),s("br"),s("span",{staticClass:"line-number"},[e._v("183")]),s("br"),s("span",{staticClass:"line-number"},[e._v("184")]),s("br"),s("span",{staticClass:"line-number"},[e._v("185")]),s("br"),s("span",{staticClass:"line-number"},[e._v("186")]),s("br"),s("span",{staticClass:"line-number"},[e._v("187")]),s("br"),s("span",{staticClass:"line-number"},[e._v("188")]),s("br"),s("span",{staticClass:"line-number"},[e._v("189")]),s("br"),s("span",{staticClass:"line-number"},[e._v("190")]),s("br"),s("span",{staticClass:"line-number"},[e._v("191")]),s("br"),s("span",{staticClass:"line-number"},[e._v("192")]),s("br"),s("span",{staticClass:"line-number"},[e._v("193")]),s("br"),s("span",{staticClass:"line-number"},[e._v("194")]),s("br"),s("span",{staticClass:"line-number"},[e._v("195")]),s("br"),s("span",{staticClass:"line-number"},[e._v("196")]),s("br"),s("span",{staticClass:"line-number"},[e._v("197")]),s("br"),s("span",{staticClass:"line-number"},[e._v("198")]),s("br"),s("span",{staticClass:"line-number"},[e._v("199")]),s("br"),s("span",{staticClass:"line-number"},[e._v("200")]),s("br"),s("span",{staticClass:"line-number"},[e._v("201")]),s("br"),s("span",{staticClass:"line-number"},[e._v("202")]),s("br"),s("span",{staticClass:"line-number"},[e._v("203")]),s("br"),s("span",{staticClass:"line-number"},[e._v("204")]),s("br"),s("span",{staticClass:"line-number"},[e._v("205")]),s("br"),s("span",{staticClass:"line-number"},[e._v("206")]),s("br"),s("span",{staticClass:"line-number"},[e._v("207")]),s("br")])]),s("p",[e._v("执行命令：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("npm run dev\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/04/22/Rb1WhwUxX7fjvg6.png",alt:"chrome_Z4gMM2ZZrx.png"}})]),e._v(" "),s("h2",{attrs:{id:"_4-buffergeometry"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-buffergeometry"}},[e._v("#")]),e._v(" 4. BufferGeometry")]),e._v(" "),s("h3",{attrs:{id:"_4-1-line"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-line"}},[e._v("#")]),e._v(" 4.1 Line")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("// create line by buffergeometry\nconst points = [];\npoints.push(new THREE.Vector3(-5, 2, -5));\npoints.push(new THREE.Vector3(5, 2, 5));\nlet geometry = new THREE.BufferGeometry().setFromPoints(points);\nlet line = new THREE.Line(\n  geometry,\n  new THREE.LineBasicMaterial({ color: 0xff00ff })\n);\nscene.add(line);\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br")])]),s("p",[e._v("运行后，场景中多一个Line。")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/04/22/tnEeZQKxHFjr4DT.png",alt:"chrome_6w1pMSQ0mG.png"}})]),e._v(" "),s("h3",{attrs:{id:"_4-2-tetrahedron"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-tetrahedron"}},[e._v("#")]),e._v(" 4.2 Tetrahedron")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("const material2 = new THREE.MeshNormalMaterial();\nlet geometry2 = new THREE.BufferGeometry();\nconst points2 = [\n  new THREE.Vector3(-1, 1, -1), //c\n  new THREE.Vector3(-1, -1, 1), //b\n  new THREE.Vector3(1, 1, 1), //a\n\n  new THREE.Vector3(1, 1, 1), //a\n  new THREE.Vector3(1, -1, -1), //d\n  new THREE.Vector3(-1, 1, -1), //c\n\n  new THREE.Vector3(-1, -1, 1), //b\n  new THREE.Vector3(1, -1, -1), //d\n  new THREE.Vector3(1, 1, 1), //a\n\n  new THREE.Vector3(-1, 1, -1), //c\n  new THREE.Vector3(1, -1, -1), //d\n  new THREE.Vector3(-1, -1, 1), //b\n];\n\ngeometry2.setFromPoints(points2);\ngeometry2.computeVertexNormals();\n\nconst mesh2 = new THREE.Mesh(geometry2, material2);\nmesh2.position.x = -5;\nmesh2.position.y = 2;\nmesh2.position.z = -5;\nscene.add(mesh2);\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br"),s("span",{staticClass:"line-number"},[e._v("18")]),s("br"),s("span",{staticClass:"line-number"},[e._v("19")]),s("br"),s("span",{staticClass:"line-number"},[e._v("20")]),s("br"),s("span",{staticClass:"line-number"},[e._v("21")]),s("br"),s("span",{staticClass:"line-number"},[e._v("22")]),s("br"),s("span",{staticClass:"line-number"},[e._v("23")]),s("br"),s("span",{staticClass:"line-number"},[e._v("24")]),s("br"),s("span",{staticClass:"line-number"},[e._v("25")]),s("br"),s("span",{staticClass:"line-number"},[e._v("26")]),s("br"),s("span",{staticClass:"line-number"},[e._v("27")]),s("br"),s("span",{staticClass:"line-number"},[e._v("28")]),s("br")])]),s("p",[e._v("运行后，多出一个三角锥：")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/04/22/lJAykfZPMwo4quh.png",alt:"chrome_EMObkqIfvs.png"}})]),e._v(" "),s("h2",{attrs:{id:"_5-buffergeometry和geometry的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-buffergeometry和geometry的区别"}},[e._v("#")]),e._v(" 5. BufferGeometry和Geometry的区别")]),e._v(" "),s("p",[e._v("为什么即存在Geometry，又存在BufferGeometry?")]),e._v(" "),s("p",[s("strong",[e._v("说白了，Geometry更适合于人来理解，自定义的地方比较多，但性能比较低一些；")])]),e._v(" "),s("p",[s("strong",[e._v("BufferGeometry更适合计算机来理解，自定义的地方很少，适合对图形学非常了解的人使用，但是性能很高。")])]),e._v(" "),s("h2",{attrs:{id:"_6-3d模型数据源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-3d模型数据源"}},[e._v("#")]),e._v(" 6. 3D模型数据源")]),e._v(" "),s("p",[e._v("内置的几何体，都是一些非常基础的模型，可以使用这些基础模型组装成，搭积木的方式，组成非常复杂的场景。")]),e._v(" "),s("p",[e._v("目前国内，数字产业化搞得如火如荼，各个行业都要数字化，所以数据的来源也是非常复杂的，多种多样的，比如：BIM行业的Revit数据模型、CAD图纸，GIS行业的各种数据要素、倾斜摄影、tiles，可以参考CesiumLab的数据转换这张图。")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/05/10/4UTPdWBZ8eVnv6L.png",alt:"ShareX_spfDiaCvWG.png"}})]),e._v(" "),s("p",[e._v("最终都会将各行各业的数据进行转换，轻量化，瓦片化等等技术手段，传输给Three.js的BufferGeometry，进行渲染；")]),e._v(" "),s("p",[e._v("或者将数据通过Datasmith的插件，转换数据转换成Unreal Engine的资产进行渲染。")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/04/22/HX6nCmxlVzPBRSc.png",alt:"chrome_pGLnFund5x.png"}})]),e._v(" "),s("p",[e._v("后期会针对熟悉的行业数据进行一一分析，探讨应用场景。")]),e._v(" "),s("h2",{attrs:{id:"_7-总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-总结"}},[e._v("#")]),e._v(" 7.总结")]),e._v(" "),s("p",[e._v("图形学分为三大部分，几何、渲染、动画。")]),e._v(" "),s("blockquote",[s("ol",[s("li",[e._v("几何，涉及到数据源的处理，和各个行业的数据格式非常密切。")]),e._v(" "),s("li",[e._v("渲染，涉及到渲染引擎的优化，主流three.js、babylon.js、cesium.js等")]),e._v(" "),s("li",[e._v("动画，物理引擎。")])])]),e._v(" "),s("h2",{attrs:{id:"_8-参考资料"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-参考资料"}},[e._v("#")]),e._v(" 8. 参考资料")]),e._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"http://www.webgl3d.cn/Three.js/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Three.js教程"),s("OutboundLink")],1)]),e._v(" "),s("li",[e._v("https://www.wjceo.com/ 暮志未晚")]),e._v(" "),s("li",[e._v("https://github.com/puxiao/threejs-tutorial")])])])}),[],!1,null,null,null);n.default=a.exports}}]);