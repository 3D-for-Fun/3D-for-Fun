(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{701:function(n,e,s){"use strict";s.r(e);var a=s(4),t=Object(a.a)({},(function(){var n=this,e=n.$createElement,s=n._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("h2",{attrs:{id:"_1-概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-概述"}},[n._v("#")]),n._v(" 1. 概述")]),n._v(" "),s("p",[n._v("本文主要介绍以下内容：")]),n._v(" "),s("blockquote",[s("ol",[s("li",[n._v("Materials有哪些?")]),n._v(" "),s("li",[n._v("了解Material在渲染管线中的位置")]),n._v(" "),s("li",[n._v("为什么要分出来那么多材质，一个材质不香吗？")]),n._v(" "),s("li",[n._v("学习使用Material;")]),n._v(" "),s("li",[n._v("学会使用Spector.js进行调试")])])]),n._v(" "),s("p",[n._v("专栏代码地址：https://github.com/ue007/three.ts")]),n._v(" "),s("p",[n._v("本文代码地址：https://github.com/ue007/three.ts/tree/main/07-Materials-BasicMaterial")]),n._v(" "),s("h2",{attrs:{id:"_2-materials有哪些"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-materials有哪些"}},[n._v("#")]),n._v(" 2. Materials有哪些？")]),n._v(" "),s("h3",{attrs:{id:"_2-1-为什么要分那么多材质"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-为什么要分那么多材质"}},[n._v("#")]),n._v(" 2.1 为什么要分那么多材质？")]),n._v(" "),s("p",[n._v("有媳妇的，应该都知道，睡觉前，卸妆之后的媳妇，没有白天化妆之后的好看。为什么呢？这就是材质Material的作用。")]),n._v(" "),s("p",[s("strong",[n._v("Material 材质，就是一个三维物体的门面，不带有Material的物体，如同一个卸了妆的女人，能看但一定不好看。所以，我们需要给女人化妆，什么粉底、遮瑕、散粉、画眉、眼影（AO），增加立体感，还有修容、高光、腮红、口红等等步骤。")])]),n._v(" "),s("p",[s("strong",[n._v("说材质为什么比较难学，就在于它很类似于化妆品种类太多，试问，有几个大老爷们，能看懂女人化妆的步骤的，更何况咱们IT男同胞们呢。")])]),n._v(" "),s("p",[s("strong",[n._v("作为男同胞，谁都不想看卸了妆的老婆，但也不喜欢经历老婆化妆的过程，等待的煎熬，实在是痛苦。")])]),n._v(" "),s("p",[s("strong",[n._v("所以，材质的意义，就在于让物体看上去更好看，更适合整个场景需求，迎合今晚聚会氛围，是Party，还是KTV，还是YD。")])]),n._v(" "),s("p",[n._v("**真实场景做真实（PBR）处理，非真实场景，做NBR处理，后期特殊处理，做IBR处理等等，大老爷们变身美少女，啥都不是事。\n**")]),n._v(" "),s("p",[s("strong",[n._v("还是男人好，化妆品，不论春夏秋冬，只有一瓶，大宝SOD蜜。")])]),n._v(" "),s("h3",{attrs:{id:"_2-2-材质有哪些"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-材质有哪些"}},[n._v("#")]),n._v(" 2.2 材质有哪些？")]),n._v(" "),s("p",[n._v("材质有哪些，就像女朋友问题，这只口红是什么颜色一样烦人。我的世界里只有红橙黄绿青蓝紫，你非要我区分色号，分不清还生气，实在让人无奈。")]),n._v(" "),s("p",[n._v("请问下面口红分别是什么颜色的？")]),n._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/04/25/vmU1Q2ePiRoOMZ9.png",alt:"chrome_a1NibaiKaY.png"}})]),n._v(" "),s("p",[n._v("我相信，99%男性的回答是：红色的！！！")]),n._v(" "),s("p",[n._v("好吧，Three.js源码中，材质包含下面多种材质，先不管它是啥，看名字一大堆，就统一理解为，化妆品吧。后面再一一分析，每个化妆品的作用，好坏。")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("export { ShadowMaterial } from './ShadowMaterial.js';\nexport { SpriteMaterial } from './SpriteMaterial.js';\nexport { RawShaderMaterial } from './RawShaderMaterial.js';\nexport { ShaderMaterial } from './ShaderMaterial.js';\nexport { PointsMaterial } from './PointsMaterial.js';\nexport { MeshPhysicalMaterial } from './MeshPhysicalMaterial.js';\nexport { MeshStandardMaterial } from './MeshStandardMaterial.js';\nexport { MeshPhongMaterial } from './MeshPhongMaterial.js';\nexport { MeshToonMaterial } from './MeshToonMaterial.js';\nexport { MeshNormalMaterial } from './MeshNormalMaterial.js';\nexport { MeshLambertMaterial } from './MeshLambertMaterial.js';\nexport { MeshDepthMaterial } from './MeshDepthMaterial.js';\nexport { MeshDistanceMaterial } from './MeshDistanceMaterial.js';\nexport { MeshBasicMaterial } from './MeshBasicMaterial.js';\nexport { MeshMatcapMaterial } from './MeshMatcapMaterial.js';\nexport { LineDashedMaterial } from './LineDashedMaterial.js';\nexport { LineBasicMaterial } from './LineBasicMaterial.js';\nexport { Material } from './Material.js';\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br")])]),s("h2",{attrs:{id:"_3-material在渲染管线中的位置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-material在渲染管线中的位置"}},[n._v("#")]),n._v(" 3. Material在渲染管线中的位置")]),n._v(" "),s("p",[n._v("学习图形学，时刻不能忘记的，就是渲染管线。如同做人，时刻不能忘记的礼节、法制一样。")]),n._v(" "),s("p",[n._v("记住渲染管线，每一步做了哪些事情，每一步如何做，才能最优。实际生活中，我们会有一种说法，把一件事情的每一步骤做到极致，最终的结果就是最好的。但是在渲染管线里，可不是完全这样，这就是管线的意义。")]),n._v(" "),s("p",[n._v("优化图形的性能问题，就像一个通下水道马桶的过程，要保证整体是通畅的，最后才能达到通畅。话题扯远了，后期会整理性能优化的问题。")]),n._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/04/25/KR5PgtfFEekoLrb.png",alt:"QQPCRealTimeSpeedup_4lgrDfBlMq.png"}})]),n._v(" "),s("p",[n._v("**\n**")]),n._v(" "),s("p",[s("strong",[n._v("Material在渲染管线中哪个位置呢？其实就是对应管线中Fragment片元处理的过程，就像拿起一直画笔，读取Material设置的参数变量（化妆品），一一涂抹的过程。")])]),n._v(" "),s("p",[s("strong",[n._v("下面这个图，是我自己整理的：")])]),n._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/04/25/63FqKEhT5t7fUpS.png",alt:"chrome_4ZCu9Fv6Yj.png"}})]),n._v(" "),s("h3",{attrs:{id:"_3-1-material"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-material"}},[n._v("#")]),n._v(" 3.1 Material")]),n._v(" "),s("p",[n._v("一个Material，需要考虑哪些东西？")]),n._v(" "),s("p",[n._v("先来看看three.js里面Material.js构造函数中的定义：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("function Material() {\n\n    Object.defineProperty( this, 'id', { value: materialId ++ } );\n\n    this.uuid = MathUtils.generateUUID();\n\n    this.name = '';\n    this.type = 'Material';\n\n    this.fog = true;\n\n    this.blending = NormalBlending;\n    this.side = FrontSide;\n    this.vertexColors = false;\n\n    this.opacity = 1;\n    this.transparent = false;\n\n    this.blendSrc = SrcAlphaFactor;\n    this.blendDst = OneMinusSrcAlphaFactor;\n    this.blendEquation = AddEquation;\n    this.blendSrcAlpha = null;\n    this.blendDstAlpha = null;\n    this.blendEquationAlpha = null;\n\n    this.depthFunc = LessEqualDepth;\n    this.depthTest = true;\n    this.depthWrite = true;\n\n    this.stencilWriteMask = 0xff;\n    this.stencilFunc = AlwaysStencilFunc;\n    this.stencilRef = 0;\n    this.stencilFuncMask = 0xff;\n    this.stencilFail = KeepStencilOp;\n    this.stencilZFail = KeepStencilOp;\n    this.stencilZPass = KeepStencilOp;\n    this.stencilWrite = false;\n\n    this.clippingPlanes = null;\n    this.clipIntersection = false;\n    this.clipShadows = false;\n\n    this.shadowSide = null;\n\n    this.colorWrite = true;\n\n    this.precision = null; // override the renderer's default precision for this material\n\n    this.polygonOffset = false;\n    this.polygonOffsetFactor = 0;\n    this.polygonOffsetUnits = 0;\n\n    this.dithering = false;\n\n    this.alphaTest = 0;\n    this.alphaToCoverage = false;\n    this.premultipliedAlpha = false;\n\n    this.visible = true;\n\n    this.toneMapped = true;\n\n    this.userData = {};\n\n    this.version = 0;\n\n}\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br"),s("span",{staticClass:"line-number"},[n._v("28")]),s("br"),s("span",{staticClass:"line-number"},[n._v("29")]),s("br"),s("span",{staticClass:"line-number"},[n._v("30")]),s("br"),s("span",{staticClass:"line-number"},[n._v("31")]),s("br"),s("span",{staticClass:"line-number"},[n._v("32")]),s("br"),s("span",{staticClass:"line-number"},[n._v("33")]),s("br"),s("span",{staticClass:"line-number"},[n._v("34")]),s("br"),s("span",{staticClass:"line-number"},[n._v("35")]),s("br"),s("span",{staticClass:"line-number"},[n._v("36")]),s("br"),s("span",{staticClass:"line-number"},[n._v("37")]),s("br"),s("span",{staticClass:"line-number"},[n._v("38")]),s("br"),s("span",{staticClass:"line-number"},[n._v("39")]),s("br"),s("span",{staticClass:"line-number"},[n._v("40")]),s("br"),s("span",{staticClass:"line-number"},[n._v("41")]),s("br"),s("span",{staticClass:"line-number"},[n._v("42")]),s("br"),s("span",{staticClass:"line-number"},[n._v("43")]),s("br"),s("span",{staticClass:"line-number"},[n._v("44")]),s("br"),s("span",{staticClass:"line-number"},[n._v("45")]),s("br"),s("span",{staticClass:"line-number"},[n._v("46")]),s("br"),s("span",{staticClass:"line-number"},[n._v("47")]),s("br"),s("span",{staticClass:"line-number"},[n._v("48")]),s("br"),s("span",{staticClass:"line-number"},[n._v("49")]),s("br"),s("span",{staticClass:"line-number"},[n._v("50")]),s("br"),s("span",{staticClass:"line-number"},[n._v("51")]),s("br"),s("span",{staticClass:"line-number"},[n._v("52")]),s("br"),s("span",{staticClass:"line-number"},[n._v("53")]),s("br"),s("span",{staticClass:"line-number"},[n._v("54")]),s("br"),s("span",{staticClass:"line-number"},[n._v("55")]),s("br"),s("span",{staticClass:"line-number"},[n._v("56")]),s("br"),s("span",{staticClass:"line-number"},[n._v("57")]),s("br"),s("span",{staticClass:"line-number"},[n._v("58")]),s("br"),s("span",{staticClass:"line-number"},[n._v("59")]),s("br"),s("span",{staticClass:"line-number"},[n._v("60")]),s("br"),s("span",{staticClass:"line-number"},[n._v("61")]),s("br"),s("span",{staticClass:"line-number"},[n._v("62")]),s("br"),s("span",{staticClass:"line-number"},[n._v("63")]),s("br"),s("span",{staticClass:"line-number"},[n._v("64")]),s("br"),s("span",{staticClass:"line-number"},[n._v("65")]),s("br"),s("span",{staticClass:"line-number"},[n._v("66")]),s("br"),s("span",{staticClass:"line-number"},[n._v("67")]),s("br")])]),s("p",[n._v("这些参数的控制，主要都是直接面向控制硬件的，可以归结为如下几点：")]),n._v(" "),s("ol",[s("li",[n._v("透明度控制：transparent是否启用透明度开关、opacity 透明度的值")]),n._v(" "),s("li",[n._v("Buffer测试：Scissor测试、Stencil测试、Depth测试")]),n._v(" "),s("li",[n._v("Blend融合：控制最终融合的参数;可以参考"),s("a",{attrs:{href:"http://www.jiazhengblog.com/blog/2017/01/04/2989/",target:"_blank",rel:"noopener noreferrer"}},[n._v("WebGL绘制详解之七：Blend"),s("OutboundLink")],1)]),n._v(" "),s("li",[n._v("visible: 可见性")]),n._v(" "),s("li",[n._v("side: 绘制的side控制，顺时针绘制，逆时针绘制，还是双面都绘制。")]),n._v(" "),s("li",[n._v("其他控制参数：clip裁剪、polygonoffset控制等等")])]),n._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/04/25/tOf2i1doZJquEUn.png",alt:"QQPCRealTimeSpeedup_kNJJKEytTZ.png"}})]),n._v(" "),s("p",[n._v("这些参数，对应"),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/WebGLRenderingContext",target:"_blank",rel:"noopener noreferrer"}},[n._v("WebGLRenderingContext"),s("OutboundLink")],1),n._v("下的状态信息：")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/WebGLRenderingContext/activeTexture",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.activeTexture()")]),s("OutboundLink")],1),n._v("选择要激活的纹理单元。")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/WebGLRenderingContext/blendColor",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.blendColor()")]),s("OutboundLink")],1),n._v("设置源和目标的混和因子。")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/WebGLRenderingContext/blendEquation",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.blendEquation()")]),s("OutboundLink")],1),n._v("用同一个表达式设置 RGB 混和表达式和 alpha 混和表达式。"),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/WebGLRenderingContext/blendEquationSeparate",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.blendEquationSeparate()")]),s("OutboundLink")],1),n._v("分开设置 RGB 混和表达式和 alpha 混和表达式。")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/WebGLRenderingContext/blendFunc",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.blendFunc()")]),s("OutboundLink")],1),n._v("定义用于像素混合算法的函数。")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/blendFuncSeparate",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.blendFuncSeparate()")]),n._v(" (en-US)"),s("OutboundLink")],1),n._v("分别定义混合像素RGB通道和透明通道的函数。")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/WebGLRenderingContext/clearColor",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.clearColor()")]),s("OutboundLink")],1),n._v("设置用于清空用的颜色。")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/WebGLRenderingContext/clearDepth",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.clearDepth()")]),s("OutboundLink")],1),n._v("设置清除深度缓存时的深度值。")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/clearStencil",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.clearStencil()")]),n._v(" (en-US)"),s("OutboundLink")],1),n._v("设置清除模板缓冲区时的模板值。")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/colorMask",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.colorMask()")]),n._v(" (en-US)"),s("OutboundLink")],1),n._v("设置在绘制或渲染"),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/WebGLFramebuffer",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLFramebuffer")]),s("OutboundLink")],1),n._v("时要开启或关闭的颜色分量。"),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/WebGLRenderingContext/cullFace",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.cullFace()")]),s("OutboundLink")],1),n._v("设置多边形的正面和/或反面是否要被排除。")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/WebGLRenderingContext/depthFunc",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.depthFunc()")]),s("OutboundLink")],1),n._v("设置比较输入像素深度和深度缓存值得函数。")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/WebGLRenderingContext/depthMask",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.depthMask()")]),s("OutboundLink")],1),n._v("设置是否写入深度缓存。")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/depthRange",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.depthRange()")]),n._v(" (en-US)"),s("OutboundLink")],1),n._v("设置从规范化设备坐标映射到窗口或视口坐标时的深度范围。")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/WebGLRenderingContext/disable",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.disable()")]),s("OutboundLink")],1),n._v("禁用这个上下文的WebGL功能。")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/WebGLRenderingContext/enable",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.enable()")]),s("OutboundLink")],1),n._v("启用这个上下文的WebGL功能。")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/frontFace",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.frontFace()")]),n._v(" (en-US)"),s("OutboundLink")],1),n._v("设置多边形的正面使用顺时针还是逆时针绘制表示。")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/WebGLRenderingContext/getParameter",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.getParameter()")]),s("OutboundLink")],1),n._v("返回给入参数名的值。")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/getError",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.getError()")]),n._v(" (en-US)"),s("OutboundLink")],1),n._v("返回错误信息。")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/hint",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.hint()")]),n._v(" (en-US)"),s("OutboundLink")],1),n._v("给某些行为设置建议使用的模式。具体建议需要看执行的情况。")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/WebGLRenderingContext/isEnabled",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.isEnabled()")]),s("OutboundLink")],1),n._v("测试这个上下文的WebGL功能是否开启。")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/lineWidth",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.lineWidth()")]),n._v(" (en-US)"),s("OutboundLink")],1),n._v("设置线宽。")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/WebGLRenderingContext/pixelStorei",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.pixelStorei()")]),s("OutboundLink")],1),n._v("设置像素存储模式。")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/WebGLRenderingContext/polygonOffset",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.polygonOffset()")]),s("OutboundLink")],1),n._v("设置多边形偏移的比例和单位，从而计算深度值。（补充：解决深度冲突）"),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/sampleCoverage",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.sampleCoverage()")]),n._v(" (en-US)"),s("OutboundLink")],1),n._v("为抗锯齿效果设置多重取样覆盖参数。")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilFunc",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.stencilFunc()")]),n._v(" (en-US)"),s("OutboundLink")],1),n._v("同时设置前面和背面的模板测试函数，及其引用值。"),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilFuncSeparate",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.stencilFuncSeparate()")]),n._v(" (en-US)"),s("OutboundLink")],1),n._v("可分开设置前面或背面的模板测试函数，及其引用值。"),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilMask",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.stencilMask()")]),n._v(" (en-US)"),s("OutboundLink")],1),n._v("同时启用或禁用，前面和背面的模板测试掩码。"),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilMaskSeparate",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.stencilMaskSeparate()")]),n._v(" (en-US)"),s("OutboundLink")],1),n._v("可分开启用或禁用，前面和背面的模板测试掩码。")]),n._v(" "),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilOp",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.stencilOp()")]),n._v(" (en-US)"),s("OutboundLink")],1),n._v("同时设置，在前面和背面的模板缓冲区上执行的操作。"),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilOpSeparate",target:"_blank",rel:"noopener noreferrer"}},[s("code",[n._v("WebGLRenderingContext.stencilOpSeparate()")]),n._v(" (en-US)"),s("OutboundLink")],1),n._v("可分开设置，在前面和背面的模板缓冲区上执行的操作。")]),n._v(" "),s("h2",{attrs:{id:"_4-basicmaterial"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-basicmaterial"}},[n._v("#")]),n._v(" 4. BasicMaterial")]),n._v(" "),s("p",[n._v("基本材质有哪些东西需要考虑？")]),n._v(" "),s("p",[n._v("看看MeshBasicMaterial的构造函数定义:")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("constructor( parameters ) {\n\n        super();\n\n        this.type = 'MeshBasicMaterial';\n\n        this.color = new Color( 0xffffff ); // emissive\n\n        this.map = null;\n\n        this.lightMap = null;\n        this.lightMapIntensity = 1.0;\n\n        this.aoMap = null;\n        this.aoMapIntensity = 1.0;\n\n        this.specularMap = null;\n\n        this.alphaMap = null;\n\n        this.envMap = null;\n        this.combine = MultiplyOperation;\n        this.reflectivity = 1;\n        this.refractionRatio = 0.98;\n\n        this.wireframe = false;\n        this.wireframeLinewidth = 1;\n        this.wireframeLinecap = 'round';\n        this.wireframeLinejoin = 'round';\n\n        this.skinning = false;\n        this.morphTargets = false;\n\n        this.setValues( parameters );\n\n    }\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br"),s("span",{staticClass:"line-number"},[n._v("28")]),s("br"),s("span",{staticClass:"line-number"},[n._v("29")]),s("br"),s("span",{staticClass:"line-number"},[n._v("30")]),s("br"),s("span",{staticClass:"line-number"},[n._v("31")]),s("br"),s("span",{staticClass:"line-number"},[n._v("32")]),s("br"),s("span",{staticClass:"line-number"},[n._v("33")]),s("br"),s("span",{staticClass:"line-number"},[n._v("34")]),s("br"),s("span",{staticClass:"line-number"},[n._v("35")]),s("br"),s("span",{staticClass:"line-number"},[n._v("36")]),s("br")])]),s("p",[n._v("对应主要参数理解为：")]),n._v(" "),s("ol",[s("li",[n._v("type: 材质的类型，穿着布料的类型")]),n._v(" "),s("li",[n._v("color: 材质的颜色，穿着布料的基本颜色")]),n._v(" "),s("li",[n._v("map:  材质的贴图，穿着布料上的图片，花纹")]),n._v(" "),s("li",[n._v("lightmap: 灯光贴图，物体的不同部分对光有不同反映")]),n._v(" "),s("li",[n._v("aomap：环境光遮蔽体贴，就像画眼影，在一些细节支出，增加立体效果")]),n._v(" "),s("li",[n._v("specularMap：高光贴图，就是一种特殊的贴图而已，打光")]),n._v(" "),s("li",[n._v("envMap：环境贴图，就是整个环境在人身上的映射")]),n._v(" "),s("li",[n._v("combine：就是环境光贴图与灯光之间计算的方式，有三种：add, mix，multiply，计算方式不同，最终输出结果自然不同")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("if ( parameters.envMap ) {\n\n        switch ( parameters.combine ) {\n\n            case MultiplyOperation:\n                envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n                break;\n\n            case MixOperation:\n                envMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n                break;\n\n            case AddOperation:\n                envMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n                break;\n        }\n    }\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br")])]),s("p",[n._v("对应shader代码：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("#ifdef ENVMAP_BLENDING_MULTIPLY\n            outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n            #elif defined( ENVMAP_BLENDING_MIX )\n            outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n            #elif defined( ENVMAP_BLENDING_ADD )\n            outgoingLight += envColor.xyz * specularStrength * reflectivity;\n        #endif\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br")])]),s("p",[n._v("来段代码试试效果，在client.ts中加入代码：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("import * as THREE from 'three';\nimport { Geometry } from 'three/examples/jsm/deprecated/Geometry';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nimport Stats from 'three/examples/jsm/libs/stats.module';\nimport { GUI } from 'three/examples/jsm/libs/dat.gui.module';\n\nconst scene: THREE.Scene = new THREE.Scene();\nconst axesHelper = new THREE.AxesHelper(5);\nscene.add(axesHelper);\n\nconst camera: THREE.PerspectiveCamera = new THREE.PerspectiveCamera(\n  75,\n  window.innerWidth / window.innerHeight,\n  0.1,\n  1000\n);\n\nconst renderer: THREE.WebGLRenderer = new THREE.WebGLRenderer();\nrenderer.setSize(window.innerWidth, window.innerHeight);\ndocument.body.appendChild(renderer.domElement);\n\nconst controls = new OrbitControls(camera, renderer.domElement);\n//controls.addEventListener('change', render)\n\nconst boxGeometry: THREE.BoxGeometry = new THREE.BoxGeometry();\nconst sphereGeometry: THREE.SphereGeometry = new THREE.SphereGeometry();\nconst icosahedronGeometry: THREE.IcosahedronGeometry = new THREE.IcosahedronGeometry(\n  1,\n  0\n);\nconst planeGeometry: THREE.PlaneGeometry = new THREE.PlaneGeometry();\nconst torusKnotGeometry: THREE.TorusKnotGeometry = new THREE.TorusKnotGeometry();\n\nconst material: THREE.MeshBasicMaterial = new THREE.MeshBasicMaterial(); //{ color: 0x00ff00, wireframe: true })\n\nconst texture = new THREE.TextureLoader().load('images/grid_25.jpg');\nmaterial.map = texture;\n\nconst envTexture = new THREE.CubeTextureLoader().load([\n  'images/px_25.jpg',\n  'images/nx_25.jpg',\n  'images/py_25.jpg',\n  'images/ny_25.jpg',\n  'images/pz_25.jpg',\n  'images/nz_25.jpg',\n]);\n//envTexture.mapping = THREE.CubeReflectionMapping\nenvTexture.mapping = THREE.CubeRefractionMapping;\nmaterial.envMap = envTexture;\n\nconst cube: THREE.Mesh = new THREE.Mesh(boxGeometry, material);\ncube.position.x = 5;\nscene.add(cube);\n\nconst sphere: THREE.Mesh = new THREE.Mesh(sphereGeometry, material);\nsphere.position.x = 3;\nscene.add(sphere);\n\nconst icosahedron: THREE.Mesh = new THREE.Mesh(icosahedronGeometry, material);\nicosahedron.position.x = 0;\nscene.add(icosahedron);\n\nconst plane: THREE.Mesh = new THREE.Mesh(planeGeometry, material);\nplane.position.x = -2;\nscene.add(plane);\n\nconst torusKnot: THREE.Mesh = new THREE.Mesh(torusKnotGeometry, material);\ntorusKnot.position.x = -5;\nscene.add(torusKnot);\n\ncamera.position.z = 3;\n\nwindow.addEventListener('resize', onWindowResize, false);\nfunction onWindowResize() {\n  camera.aspect = window.innerWidth / window.innerHeight;\n  camera.updateProjectionMatrix();\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  render();\n}\n\nconst stats = Stats();\ndocument.body.appendChild(stats.dom);\n\nvar options = {\n  side: {\n    FrontSide: THREE.FrontSide,\n    BackSide: THREE.BackSide,\n    DoubleSide: THREE.DoubleSide,\n  },\n  combine: {\n    MultiplyOperation: THREE.MultiplyOperation,\n    MixOperation: THREE.MixOperation,\n    AddOperation: THREE.AddOperation,\n  },\n};\nconst gui = new GUI();\n\nconst materialFolder = gui.addFolder('THREE.Material');\nmaterialFolder.add(material, 'transparent');\nmaterialFolder.add(material, 'opacity', 0, 1, 0.01);\nmaterialFolder.add(material, 'depthTest');\nmaterialFolder.add(material, 'depthWrite');\nmaterialFolder\n  .add(material, 'alphaTest', 0, 1, 0.01)\n  .onChange(() => updateMaterial());\nmaterialFolder.add(material, 'visible');\nmaterialFolder\n  .add(material, 'side', options.side)\n  .onChange(() => updateMaterial());\nmaterialFolder.open();\n\nvar data = {\n  color: material.color.getHex(),\n};\n\nvar meshBasicMaterialFolder = gui.addFolder('THREE.MeshBasicMaterial');\nmeshBasicMaterialFolder.addColor(data, 'color').onChange(() => {\n  material.color.setHex(Number(data.color.toString().replace('#', '0x')));\n});\nmeshBasicMaterialFolder.add(material, 'wireframe');\n//meshBasicMaterialFolder.add(material, 'wireframeLinewidth', 0, 10);\nmeshBasicMaterialFolder\n  .add(material, 'combine', options.combine)\n  .onChange(() => updateMaterial());\nmeshBasicMaterialFolder.add(material, 'reflectivity', 0, 1);\nmeshBasicMaterialFolder.add(material, 'refractionRatio', 0, 1);\nmeshBasicMaterialFolder.open();\n\nfunction updateMaterial() {\n  material.side = Number(material.side);\n  material.combine = Number(material.combine);\n  material.needsUpdate = true;\n}\n\nvar animate = function () {\n  requestAnimationFrame(animate);\n  render();\n  stats.update();\n};\n\nfunction render() {\n  renderer.render(scene, camera);\n}\nanimate();\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br"),s("span",{staticClass:"line-number"},[n._v("28")]),s("br"),s("span",{staticClass:"line-number"},[n._v("29")]),s("br"),s("span",{staticClass:"line-number"},[n._v("30")]),s("br"),s("span",{staticClass:"line-number"},[n._v("31")]),s("br"),s("span",{staticClass:"line-number"},[n._v("32")]),s("br"),s("span",{staticClass:"line-number"},[n._v("33")]),s("br"),s("span",{staticClass:"line-number"},[n._v("34")]),s("br"),s("span",{staticClass:"line-number"},[n._v("35")]),s("br"),s("span",{staticClass:"line-number"},[n._v("36")]),s("br"),s("span",{staticClass:"line-number"},[n._v("37")]),s("br"),s("span",{staticClass:"line-number"},[n._v("38")]),s("br"),s("span",{staticClass:"line-number"},[n._v("39")]),s("br"),s("span",{staticClass:"line-number"},[n._v("40")]),s("br"),s("span",{staticClass:"line-number"},[n._v("41")]),s("br"),s("span",{staticClass:"line-number"},[n._v("42")]),s("br"),s("span",{staticClass:"line-number"},[n._v("43")]),s("br"),s("span",{staticClass:"line-number"},[n._v("44")]),s("br"),s("span",{staticClass:"line-number"},[n._v("45")]),s("br"),s("span",{staticClass:"line-number"},[n._v("46")]),s("br"),s("span",{staticClass:"line-number"},[n._v("47")]),s("br"),s("span",{staticClass:"line-number"},[n._v("48")]),s("br"),s("span",{staticClass:"line-number"},[n._v("49")]),s("br"),s("span",{staticClass:"line-number"},[n._v("50")]),s("br"),s("span",{staticClass:"line-number"},[n._v("51")]),s("br"),s("span",{staticClass:"line-number"},[n._v("52")]),s("br"),s("span",{staticClass:"line-number"},[n._v("53")]),s("br"),s("span",{staticClass:"line-number"},[n._v("54")]),s("br"),s("span",{staticClass:"line-number"},[n._v("55")]),s("br"),s("span",{staticClass:"line-number"},[n._v("56")]),s("br"),s("span",{staticClass:"line-number"},[n._v("57")]),s("br"),s("span",{staticClass:"line-number"},[n._v("58")]),s("br"),s("span",{staticClass:"line-number"},[n._v("59")]),s("br"),s("span",{staticClass:"line-number"},[n._v("60")]),s("br"),s("span",{staticClass:"line-number"},[n._v("61")]),s("br"),s("span",{staticClass:"line-number"},[n._v("62")]),s("br"),s("span",{staticClass:"line-number"},[n._v("63")]),s("br"),s("span",{staticClass:"line-number"},[n._v("64")]),s("br"),s("span",{staticClass:"line-number"},[n._v("65")]),s("br"),s("span",{staticClass:"line-number"},[n._v("66")]),s("br"),s("span",{staticClass:"line-number"},[n._v("67")]),s("br"),s("span",{staticClass:"line-number"},[n._v("68")]),s("br"),s("span",{staticClass:"line-number"},[n._v("69")]),s("br"),s("span",{staticClass:"line-number"},[n._v("70")]),s("br"),s("span",{staticClass:"line-number"},[n._v("71")]),s("br"),s("span",{staticClass:"line-number"},[n._v("72")]),s("br"),s("span",{staticClass:"line-number"},[n._v("73")]),s("br"),s("span",{staticClass:"line-number"},[n._v("74")]),s("br"),s("span",{staticClass:"line-number"},[n._v("75")]),s("br"),s("span",{staticClass:"line-number"},[n._v("76")]),s("br"),s("span",{staticClass:"line-number"},[n._v("77")]),s("br"),s("span",{staticClass:"line-number"},[n._v("78")]),s("br"),s("span",{staticClass:"line-number"},[n._v("79")]),s("br"),s("span",{staticClass:"line-number"},[n._v("80")]),s("br"),s("span",{staticClass:"line-number"},[n._v("81")]),s("br"),s("span",{staticClass:"line-number"},[n._v("82")]),s("br"),s("span",{staticClass:"line-number"},[n._v("83")]),s("br"),s("span",{staticClass:"line-number"},[n._v("84")]),s("br"),s("span",{staticClass:"line-number"},[n._v("85")]),s("br"),s("span",{staticClass:"line-number"},[n._v("86")]),s("br"),s("span",{staticClass:"line-number"},[n._v("87")]),s("br"),s("span",{staticClass:"line-number"},[n._v("88")]),s("br"),s("span",{staticClass:"line-number"},[n._v("89")]),s("br"),s("span",{staticClass:"line-number"},[n._v("90")]),s("br"),s("span",{staticClass:"line-number"},[n._v("91")]),s("br"),s("span",{staticClass:"line-number"},[n._v("92")]),s("br"),s("span",{staticClass:"line-number"},[n._v("93")]),s("br"),s("span",{staticClass:"line-number"},[n._v("94")]),s("br"),s("span",{staticClass:"line-number"},[n._v("95")]),s("br"),s("span",{staticClass:"line-number"},[n._v("96")]),s("br"),s("span",{staticClass:"line-number"},[n._v("97")]),s("br"),s("span",{staticClass:"line-number"},[n._v("98")]),s("br"),s("span",{staticClass:"line-number"},[n._v("99")]),s("br"),s("span",{staticClass:"line-number"},[n._v("100")]),s("br"),s("span",{staticClass:"line-number"},[n._v("101")]),s("br"),s("span",{staticClass:"line-number"},[n._v("102")]),s("br"),s("span",{staticClass:"line-number"},[n._v("103")]),s("br"),s("span",{staticClass:"line-number"},[n._v("104")]),s("br"),s("span",{staticClass:"line-number"},[n._v("105")]),s("br"),s("span",{staticClass:"line-number"},[n._v("106")]),s("br"),s("span",{staticClass:"line-number"},[n._v("107")]),s("br"),s("span",{staticClass:"line-number"},[n._v("108")]),s("br"),s("span",{staticClass:"line-number"},[n._v("109")]),s("br"),s("span",{staticClass:"line-number"},[n._v("110")]),s("br"),s("span",{staticClass:"line-number"},[n._v("111")]),s("br"),s("span",{staticClass:"line-number"},[n._v("112")]),s("br"),s("span",{staticClass:"line-number"},[n._v("113")]),s("br"),s("span",{staticClass:"line-number"},[n._v("114")]),s("br"),s("span",{staticClass:"line-number"},[n._v("115")]),s("br"),s("span",{staticClass:"line-number"},[n._v("116")]),s("br"),s("span",{staticClass:"line-number"},[n._v("117")]),s("br"),s("span",{staticClass:"line-number"},[n._v("118")]),s("br"),s("span",{staticClass:"line-number"},[n._v("119")]),s("br"),s("span",{staticClass:"line-number"},[n._v("120")]),s("br"),s("span",{staticClass:"line-number"},[n._v("121")]),s("br"),s("span",{staticClass:"line-number"},[n._v("122")]),s("br"),s("span",{staticClass:"line-number"},[n._v("123")]),s("br"),s("span",{staticClass:"line-number"},[n._v("124")]),s("br"),s("span",{staticClass:"line-number"},[n._v("125")]),s("br"),s("span",{staticClass:"line-number"},[n._v("126")]),s("br"),s("span",{staticClass:"line-number"},[n._v("127")]),s("br"),s("span",{staticClass:"line-number"},[n._v("128")]),s("br"),s("span",{staticClass:"line-number"},[n._v("129")]),s("br"),s("span",{staticClass:"line-number"},[n._v("130")]),s("br"),s("span",{staticClass:"line-number"},[n._v("131")]),s("br"),s("span",{staticClass:"line-number"},[n._v("132")]),s("br"),s("span",{staticClass:"line-number"},[n._v("133")]),s("br"),s("span",{staticClass:"line-number"},[n._v("134")]),s("br"),s("span",{staticClass:"line-number"},[n._v("135")]),s("br"),s("span",{staticClass:"line-number"},[n._v("136")]),s("br"),s("span",{staticClass:"line-number"},[n._v("137")]),s("br"),s("span",{staticClass:"line-number"},[n._v("138")]),s("br"),s("span",{staticClass:"line-number"},[n._v("139")]),s("br"),s("span",{staticClass:"line-number"},[n._v("140")]),s("br"),s("span",{staticClass:"line-number"},[n._v("141")]),s("br"),s("span",{staticClass:"line-number"},[n._v("142")]),s("br"),s("span",{staticClass:"line-number"},[n._v("143")]),s("br"),s("span",{staticClass:"line-number"},[n._v("144")]),s("br")])]),s("p",[n._v("执行脚本：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("npm run dev\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/04/25/rhuvJOlxiB4gMXL.png",alt:"chrome_wXHQblqRip.png"}})]),n._v(" "),s("h2",{attrs:{id:"_5-spectorjs调试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-spectorjs调试"}},[n._v("#")]),n._v(" 5. SpectorJS调试")]),n._v(" "),s("p",[n._v("我们来使用babylon的inspector.js工具，分析一下，材质最终在shader里的流程。")]),n._v(" "),s("p",[n._v("首先，安装一下SpectorJS这个插件，用于chrome上的webgl调试，github地址：https://github.com/BabylonJS/Spector.js/blob/master/readme.md")]),n._v(" "),s("p",[n._v("使用Spector工具，获取调试信息如图：")]),n._v(" "),s("h3",{attrs:{id:"_5-1-information信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-information信息"}},[n._v("#")]),n._v(" 5.1 Information信息")]),n._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/04/25/TDylfjFUbkdVc8w.png",alt:"chrome_pXlbCVQIqi.png"}})]),n._v(" "),s("p",[n._v("主要信息有：")]),n._v(" "),s("ol",[s("li",[n._v("Canvas信息：介绍Canvas的尺寸，浏览器属性；")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("width: 1920\nheight: 519\nclientWidth: 1920\nclientHeight: 519\nbrowserAgent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br")])]),s("ol",[s("li",[n._v("Context信息：介绍WebGLRenderContext的属性信息")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("Context\nversion: 2\nContext Attributes\nalpha: false\nantialias: false\ndepth: true\nfailIfMajorPerformanceCaveat: false\npowerPreference: default\npremultipliedAlpha: true\npreserveDrawingBuffer: false\nstencil: true\ndesynchronized: false\nxrCompatible: false\nCapabilities\nRENDERER: WebKit WebGL\nVENDOR: WebKit\nVERSION: WebGL 2.0 (OpenGL ES 3.0 Chromium)\nSHADING_LANGUAGE_VERSION: WebGL GLSL ES 3.00 (OpenGL ES GLSL ES 3.0 Chromium)\nSAMPLES: 0\nSAMPLE_BUFFERS: 0\nRED_BITS: 8\nGREEN_BITS: 8\nBLUE_BITS: 8\nALPHA_BITS: 0\nDEPTH_BITS: 24\nSTENCIL_BITS: 8\nSUBPIXEL_BITS: 4\nLINE_WIDTH: 1\nALIASED_LINE_WIDTH_RANGE: 1, 1\nALIASED_POINT_SIZE_RANGE: 1, 1024\nIMPLEMENTATION_COLOR_READ_FORMAT: RGBA\nIMPLEMENTATION_COLOR_READ_TYPE: UNSIGNED_BYTE\nMAX_COMBINED_TEXTURE_IMAGE_UNITS: 32\nMAX_CUBE_MAP_TEXTURE_SIZE: 16384\nMAX_FRAGMENT_UNIFORM_VECTORS: 1024\nMAX_RENDERBUFFER_SIZE: 16384\nMAX_TEXTURE_IMAGE_UNITS: 16\nMAX_TEXTURE_SIZE: 16384\nMAX_VARYING_VECTORS: 30\nMAX_VERTEX_ATTRIBS: 16\nMAX_VERTEX_TEXTURE_IMAGE_UNITS: 16\nMAX_VERTEX_UNIFORM_VECTORS: 4096\nMAX_VIEWPORT_DIMS: 32767, 32767\nMAX_TEXTURE_MAX_ANISOTROPY_EXT: 16\nMAX_COLOR_ATTACHMENTS_WEBGL: Extension WEBGL_draw_buffers is unavailble.\nMAX_DRAW_BUFFERS_WEBGL: Extension WEBGL_draw_buffers is unavailble.\nMAX_3D_TEXTURE_SIZE: 2048\nMAX_ARRAY_TEXTURE_LAYERS: 2048\nMAX_CLIENT_WAIT_TIMEOUT_WEBGL: 0\nMAX_COLOR_ATTACHMENTS: 8\nMAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS: 200704\nMAX_COMBINED_UNIFORM_BLOCKS: 24\nMAX_COMBINED_VERTEX_UNIFORM_COMPONENTS: 212992\nMAX_DRAW_BUFFERS: 8\nMAX_ELEMENT_INDEX: 4294967294\nMAX_ELEMENTS_INDICES: 2147483647\nMAX_ELEMENTS_VERTICES: 2147483647\nMAX_FRAGMENT_INPUT_COMPONENTS: 120\nMAX_FRAGMENT_UNIFORM_BLOCKS: 12\nMAX_FRAGMENT_UNIFORM_COMPONENTS: 4096\nMAX_PROGRAM_TEXEL_OFFSET: 7\nMAX_SAMPLES: 16\nMAX_SERVER_WAIT_TIMEOUT: 0\nMAX_TEXTURE_LOD_BIAS: 2\nMAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS: 120\nMAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS: 4\nMAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS: 4\nMAX_UNIFORM_BLOCK_SIZE: 65536\nMAX_UNIFORM_BUFFER_BINDINGS: 24\nMAX_VARYING_COMPONENTS: 120\nMAX_VERTEX_OUTPUT_COMPONENTS: 120\nMAX_VERTEX_UNIFORM_BLOCKS: 12\nMAX_VERTEX_UNIFORM_COMPONENTS: 16384\nMIN_PROGRAM_TEXEL_OFFSET: -8\nExtensions\nEXT_color_buffer_float: true\nEXT_disjoint_timer_query: false\nEXT_disjoint_timer_query_webgl2: true\nEXT_texture_filter_anisotropic: true\nOES_texture_float_linear: true\nWEBGL_compressed_texture_astc: false\nWEBGL_compressed_texture_atc: false\nWEBGL_compressed_texture_etc: false\nWEBGL_compressed_texture_etc1: false\nWEBGL_compressed_texture_pvrtc: false\nWEBGL_compressed_texture_s3tc: true\nCompressed Textures\nCOMPRESSED_TEXTURE_FORMATS: COMPRESSED_RGB_S3TC_DXT1_EXT, COMPRESSED_RGBA_S3TC_DXT1_EXT, COMPRESSED_RGBA_S3TC_DXT3_EXT, COMPRESSED_RGBA_S3TC_DXT5_EXT\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br"),s("span",{staticClass:"line-number"},[n._v("28")]),s("br"),s("span",{staticClass:"line-number"},[n._v("29")]),s("br"),s("span",{staticClass:"line-number"},[n._v("30")]),s("br"),s("span",{staticClass:"line-number"},[n._v("31")]),s("br"),s("span",{staticClass:"line-number"},[n._v("32")]),s("br"),s("span",{staticClass:"line-number"},[n._v("33")]),s("br"),s("span",{staticClass:"line-number"},[n._v("34")]),s("br"),s("span",{staticClass:"line-number"},[n._v("35")]),s("br"),s("span",{staticClass:"line-number"},[n._v("36")]),s("br"),s("span",{staticClass:"line-number"},[n._v("37")]),s("br"),s("span",{staticClass:"line-number"},[n._v("38")]),s("br"),s("span",{staticClass:"line-number"},[n._v("39")]),s("br"),s("span",{staticClass:"line-number"},[n._v("40")]),s("br"),s("span",{staticClass:"line-number"},[n._v("41")]),s("br"),s("span",{staticClass:"line-number"},[n._v("42")]),s("br"),s("span",{staticClass:"line-number"},[n._v("43")]),s("br"),s("span",{staticClass:"line-number"},[n._v("44")]),s("br"),s("span",{staticClass:"line-number"},[n._v("45")]),s("br"),s("span",{staticClass:"line-number"},[n._v("46")]),s("br"),s("span",{staticClass:"line-number"},[n._v("47")]),s("br"),s("span",{staticClass:"line-number"},[n._v("48")]),s("br"),s("span",{staticClass:"line-number"},[n._v("49")]),s("br"),s("span",{staticClass:"line-number"},[n._v("50")]),s("br"),s("span",{staticClass:"line-number"},[n._v("51")]),s("br"),s("span",{staticClass:"line-number"},[n._v("52")]),s("br"),s("span",{staticClass:"line-number"},[n._v("53")]),s("br"),s("span",{staticClass:"line-number"},[n._v("54")]),s("br"),s("span",{staticClass:"line-number"},[n._v("55")]),s("br"),s("span",{staticClass:"line-number"},[n._v("56")]),s("br"),s("span",{staticClass:"line-number"},[n._v("57")]),s("br"),s("span",{staticClass:"line-number"},[n._v("58")]),s("br"),s("span",{staticClass:"line-number"},[n._v("59")]),s("br"),s("span",{staticClass:"line-number"},[n._v("60")]),s("br"),s("span",{staticClass:"line-number"},[n._v("61")]),s("br"),s("span",{staticClass:"line-number"},[n._v("62")]),s("br"),s("span",{staticClass:"line-number"},[n._v("63")]),s("br"),s("span",{staticClass:"line-number"},[n._v("64")]),s("br"),s("span",{staticClass:"line-number"},[n._v("65")]),s("br"),s("span",{staticClass:"line-number"},[n._v("66")]),s("br"),s("span",{staticClass:"line-number"},[n._v("67")]),s("br"),s("span",{staticClass:"line-number"},[n._v("68")]),s("br"),s("span",{staticClass:"line-number"},[n._v("69")]),s("br"),s("span",{staticClass:"line-number"},[n._v("70")]),s("br"),s("span",{staticClass:"line-number"},[n._v("71")]),s("br"),s("span",{staticClass:"line-number"},[n._v("72")]),s("br"),s("span",{staticClass:"line-number"},[n._v("73")]),s("br"),s("span",{staticClass:"line-number"},[n._v("74")]),s("br"),s("span",{staticClass:"line-number"},[n._v("75")]),s("br"),s("span",{staticClass:"line-number"},[n._v("76")]),s("br"),s("span",{staticClass:"line-number"},[n._v("77")]),s("br"),s("span",{staticClass:"line-number"},[n._v("78")]),s("br"),s("span",{staticClass:"line-number"},[n._v("79")]),s("br"),s("span",{staticClass:"line-number"},[n._v("80")]),s("br"),s("span",{staticClass:"line-number"},[n._v("81")]),s("br"),s("span",{staticClass:"line-number"},[n._v("82")]),s("br"),s("span",{staticClass:"line-number"},[n._v("83")]),s("br"),s("span",{staticClass:"line-number"},[n._v("84")]),s("br"),s("span",{staticClass:"line-number"},[n._v("85")]),s("br"),s("span",{staticClass:"line-number"},[n._v("86")]),s("br"),s("span",{staticClass:"line-number"},[n._v("87")]),s("br"),s("span",{staticClass:"line-number"},[n._v("88")]),s("br")])]),s("ol",[s("li",[n._v("Commands信息:主要调用drawElement接口的次数、切换program的次数、clear的次数、激活贴图activeTexture的次数，绑定顶点数据VAO的次数，传输uniform的次数,在分析性能的时候，这些次数的调用很有帮助，一言以蔽之，就是减少drawCall，而这些数量，就是drawCall息息相关。")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("Commands\nuniformMatrix4fv: 10\nbindVertexArray: 6\ndrawElements: 4\nactiveTexture: 2\ndrawArrays: 2\nuseProgram: 2\nclear: 1\nCommands Summary\ntotal: 27\ndraw: 6\nclear: 1\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br")])]),s("ol",[s("li",[n._v("Primitives：绘制点、线、面的数量，一般是性能高低的重要指标。")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("Primitives\ntotal: 3420\ntriangles: 3414\ntriangleStrip: 0\ntriangleFan: 0\nlines: 6\nlineStrip: 0\nlineLoop: 0\npoints: 0\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br")])]),s("ol",[s("li",[n._v("Memory: 使用Memory的相关信息，各种Buffer的使用情况；")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("Frame Memory Changes\nBuffer: 0\nRenderbuffer: 0\nTexture2d: 0\nTexture3d: 0\nProgram: 0\nTotal Memory (Seconds Since Application Start: Bytes)\nBuffer\n0: 23696\n7: 30404\nTexture2d\n0: 28\n8: 6113308\nProgram\n0: 25926\n7: 52207\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br")])]),s("h3",{attrs:{id:"_5-2-init-state"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-init-state"}},[n._v("#")]),n._v(" 5.2 Init State")]),n._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/04/25/PiAMTzqVXkN9DId.png",alt:"chrome_YkByk3Svon.png"}})]),n._v(" "),s("p",[n._v("初始化的一些状态标志；")]),n._v(" "),s("h3",{attrs:{id:"_5-3-end-state"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-end-state"}},[n._v("#")]),n._v(" 5.3 End State")]),n._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/04/25/ZNB7HEw56ork2W4.png",alt:"chrome_4lxMUydbip.png"}})]),n._v(" "),s("p",[n._v("结束状态标志。")]),n._v(" "),s("h3",{attrs:{id:"_5-4-commands"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-commands"}},[n._v("#")]),n._v(" 5.4 Commands")]),n._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/04/25/ZXehup5YF6wr4nH.png",alt:"chrome_VwT9MpL8oJ.png"}})]),n._v(" "),s("p",[n._v("重点就是Commands的信息，可以查看一共调用了哪些指令，每个指令对应的参数是什么，传入的attribute、uniform、Texture等数据。")]),n._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/04/25/T3Z6a7e8hcQOtnl.png",alt:"chrome_sCPC7Eb8Jk.png"}})]),n._v(" "),s("p",[n._v("点击这里的材质，可以查看到具体的Vertex Shader和Fragment Shader。")]),n._v(" "),s("h3",{attrs:{id:"_5-5-vertex-shader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-vertex-shader"}},[n._v("#")]),n._v(" 5.5 Vertex Shader")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("#version 300 es\n#define attribute in\n#define varying out\n#define texture2D texture\nprecision highp float;\nprecision highp int;\n#define HIGH_PRECISION\n#define SHADER_NAME MeshBasicMaterial\n#define VERTEX_TEXTURES\n#define GAMMA_FACTOR 2\n#define MAX_BONES 0\n#define USE_MAP\n#define USE_ENVMAP\n#define ENVMAP_MODE_REFRACTION\n#define USE_UV\n#define BONE_TEXTURE\nuniform mat4 modelMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nuniform bool isOrthographic;\n#ifdef USE_INSTANCING\n    attribute mat4 instanceMatrix;\n#endif\n#ifdef USE_INSTANCING_COLOR\n    attribute vec3 instanceColor;\n#endif\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\n#ifdef USE_TANGENT\n    attribute vec4 tangent;\n#endif\n#ifdef USE_COLOR\n    attribute vec3 color;\n#endif\n#ifdef USE_MORPHTARGETS\n    attribute vec3 morphTarget0;\n    attribute vec3 morphTarget1;\n    attribute vec3 morphTarget2;\n    attribute vec3 morphTarget3;\n    #ifdef USE_MORPHNORMALS\n        attribute vec3 morphNormal0;\n        attribute vec3 morphNormal1;\n        attribute vec3 morphNormal2;\n        attribute vec3 morphNormal3;\n    #else\n        attribute vec3 morphTarget4;\n        attribute vec3 morphTarget5;\n        attribute vec3 morphTarget6;\n        attribute vec3 morphTarget7;\n    #endif\n#endif\n#ifdef USE_SKINNING\n    attribute vec4 skinIndex;\n    attribute vec4 skinWeight;\n#endif\n\n#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n    #define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) {\n    return x*x;\n}\nfloat pow3( const in float x ) {\n    return x*x*x;\n}\nfloat pow4( const in float x ) {\n    float x2 = x*x;\n    return x2*x2;\n}\nfloat average( const in vec3 color ) {\n    return dot( color, vec3( 0.3333 ) );\n}\nhighp float rand( const in vec2 uv ) {\n    const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n    highp float dt = dot( uv.xy, vec2( a, b ) ), sn = mod( dt, PI );\n    return fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n    float precisionSafeLength( vec3 v ) {\n        return length( v );\n    }\n#else\n    float max3( vec3 v ) {\n        return max( max( v.x, v.y ), v.z );\n    }\n    float precisionSafeLength( vec3 v ) {\n        float maxComponent = max3( abs( v ) );\n        return length( v / maxComponent ) * maxComponent;\n    }\n#endif\nstruct IncidentLight {\n    vec3 color;\n    vec3 direction;\n    bool visible;\n};\nstruct ReflectedLight {\n    vec3 directDiffuse;\n    vec3 directSpecular;\n    vec3 indirectDiffuse;\n    vec3 indirectSpecular;\n};\nstruct GeometricContext {\n    vec3 position;\n    vec3 normal;\n    vec3 viewDir;\n    #ifdef CLEARCOAT\n        vec3 clearcoatNormal;\n    #endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n    return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n    return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n    float distance = dot( planeNormal, point - pointOnPlane );\n    return - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n    return sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n    return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n    mat3 tmp;\n    tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n    tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n    tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n    return tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n    vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n    return dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n    return m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n    float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n    float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n    return vec2( u, v );\n}\n#ifdef USE_UV\n    #ifdef UVS_VERTEX_ONLY\n        vec2 vUv;\n    #else\n        varying vec2 vUv;\n    #endif\n    uniform mat3 uvTransform;\n#endif\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n    attribute vec2 uv2;\n    varying vec2 vUv2;\n    uniform mat3 uv2Transform;\n#endif\n#ifdef USE_ENVMAP\n    #if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n        #define ENV_WORLDPOS\n    #endif\n    #ifdef ENV_WORLDPOS\n        \n        varying vec3 vWorldPosition;\n    #else\n        varying vec3 vReflect;\n        uniform float refractionRatio;\n    #endif\n#endif\n#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n    varying vec3 vColor;\n#endif\n#ifdef USE_FOG\n    varying float fogDepth;\n#endif\n#ifdef USE_MORPHTARGETS\n    uniform float morphTargetBaseInfluence;\n    #ifndef USE_MORPHNORMALS\n        uniform float morphTargetInfluences[ 8 ];\n    #else\n        uniform float morphTargetInfluences[ 4 ];\n    #endif\n#endif\n#ifdef USE_SKINNING\n    uniform mat4 bindMatrix;\n    uniform mat4 bindMatrixInverse;\n    #ifdef BONE_TEXTURE\n        uniform highp sampler2D boneTexture;\n        uniform int boneTextureSize;\n        mat4 getBoneMatrix( const in float i ) {\n            float j = i * 4.0;\n            float x = mod( j, float( boneTextureSize ) );\n            float y = floor( j / float( boneTextureSize ) );\n            float dx = 1.0 / float( boneTextureSize );\n            float dy = 1.0 / float( boneTextureSize );\n            y = dy * ( y + 0.5 );\n            vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n            vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n            vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n            vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n            mat4 bone = mat4( v1, v2, v3, v4 );\n            return bone;\n        }\n    #else\n        uniform mat4 boneMatrices[ MAX_BONES ];\n        mat4 getBoneMatrix( const in float i ) {\n            mat4 bone = boneMatrices[ int(i) ];\n            return bone;\n        }\n    #endif\n#endif\n#ifdef USE_LOGDEPTHBUF\n    #ifdef USE_LOGDEPTHBUF_EXT\n        varying float vFragDepth;\n        varying float vIsPerspective;\n    #else\n        uniform float logDepthBufFC;\n    #endif\n#endif\n#if 0 > 0\n    varying vec3 vClipPosition;\n#endif\nvoid main() {\n    #ifdef USE_UV\n        vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n    #endif\n    #if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n        vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n    #endif\n    #if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n        vColor = vec3( 1.0 );\n    #endif\n    #ifdef USE_COLOR\n        vColor.xyz *= color.xyz;\n    #endif\n    #ifdef USE_INSTANCING_COLOR\n        vColor.xyz *= instanceColor.xyz;\n    #endif\n    #ifdef USE_SKINNING\n        mat4 boneMatX = getBoneMatrix( skinIndex.x );\n        mat4 boneMatY = getBoneMatrix( skinIndex.y );\n        mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n        mat4 boneMatW = getBoneMatrix( skinIndex.w );\n    #endif\n    #ifdef USE_ENVMAP\n        vec3 objectNormal = vec3( normal );\n        #ifdef USE_TANGENT\n            vec3 objectTangent = vec3( tangent.xyz );\n        #endif\n        #ifdef USE_MORPHNORMALS\n            objectNormal *= morphTargetBaseInfluence;\n            objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n            objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n            objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n            objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n        #endif\n        #ifdef USE_SKINNING\n            mat4 skinMatrix = mat4( 0.0 );\n            skinMatrix += skinWeight.x * boneMatX;\n            skinMatrix += skinWeight.y * boneMatY;\n            skinMatrix += skinWeight.z * boneMatZ;\n            skinMatrix += skinWeight.w * boneMatW;\n            skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n            objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n            #ifdef USE_TANGENT\n                objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n            #endif\n        #endif\n        vec3 transformedNormal = objectNormal;\n        #ifdef USE_INSTANCING\n            mat3 m = mat3( instanceMatrix );\n            transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n            transformedNormal = m * transformedNormal;\n        #endif\n        transformedNormal = normalMatrix * transformedNormal;\n        #ifdef FLIP_SIDED\n            transformedNormal = - transformedNormal;\n        #endif\n        #ifdef USE_TANGENT\n            vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n            #ifdef FLIP_SIDED\n                transformedTangent = - transformedTangent;\n            #endif\n        #endif\n    #endif\n    vec3 transformed = vec3( position );\n    #ifdef USE_MORPHTARGETS\n        transformed *= morphTargetBaseInfluence;\n        transformed += morphTarget0 * morphTargetInfluences[ 0 ];\n        transformed += morphTarget1 * morphTargetInfluences[ 1 ];\n        transformed += morphTarget2 * morphTargetInfluences[ 2 ];\n        transformed += morphTarget3 * morphTargetInfluences[ 3 ];\n        #ifndef USE_MORPHNORMALS\n            transformed += morphTarget4 * morphTargetInfluences[ 4 ];\n            transformed += morphTarget5 * morphTargetInfluences[ 5 ];\n            transformed += morphTarget6 * morphTargetInfluences[ 6 ];\n            transformed += morphTarget7 * morphTargetInfluences[ 7 ];\n        #endif\n    #endif\n    #ifdef USE_SKINNING\n        vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n        vec4 skinned = vec4( 0.0 );\n        skinned += boneMatX * skinVertex * skinWeight.x;\n        skinned += boneMatY * skinVertex * skinWeight.y;\n        skinned += boneMatZ * skinVertex * skinWeight.z;\n        skinned += boneMatW * skinVertex * skinWeight.w;\n        transformed = ( bindMatrixInverse * skinned ).xyz;\n    #endif\n    vec4 mvPosition = vec4( transformed, 1.0 );\n    #ifdef USE_INSTANCING\n        mvPosition = instanceMatrix * mvPosition;\n    #endif\n    mvPosition = modelViewMatrix * mvPosition;\n    gl_Position = projectionMatrix * mvPosition;\n    #ifdef USE_LOGDEPTHBUF\n        #ifdef USE_LOGDEPTHBUF_EXT\n            vFragDepth = 1.0 + gl_Position.w;\n            vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n        #else\n            if ( isPerspectiveMatrix( projectionMatrix ) ) {\n                gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n                gl_Position.z *= gl_Position.w;\n            }\n        #endif\n    #endif\n    #if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n        vec4 worldPosition = vec4( transformed, 1.0 );\n        #ifdef USE_INSTANCING\n            worldPosition = instanceMatrix * worldPosition;\n        #endif\n        worldPosition = modelMatrix * worldPosition;\n    #endif\n    #if 0 > 0\n        vClipPosition = - mvPosition.xyz;\n    #endif\n    #ifdef USE_ENVMAP\n        #ifdef ENV_WORLDPOS\n            vWorldPosition = worldPosition.xyz;\n        #else\n            vec3 cameraToVertex;\n            if ( isOrthographic ) {\n                cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n            }\n            else {\n                cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n            }\n            vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n            #ifdef ENVMAP_MODE_REFLECTION\n                vReflect = reflect( cameraToVertex, worldNormal );\n            #else\n                vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n            #endif\n        #endif\n    #endif\n    #ifdef USE_FOG\n        fogDepth = - mvPosition.z;\n    #endif\n}\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br"),s("span",{staticClass:"line-number"},[n._v("28")]),s("br"),s("span",{staticClass:"line-number"},[n._v("29")]),s("br"),s("span",{staticClass:"line-number"},[n._v("30")]),s("br"),s("span",{staticClass:"line-number"},[n._v("31")]),s("br"),s("span",{staticClass:"line-number"},[n._v("32")]),s("br"),s("span",{staticClass:"line-number"},[n._v("33")]),s("br"),s("span",{staticClass:"line-number"},[n._v("34")]),s("br"),s("span",{staticClass:"line-number"},[n._v("35")]),s("br"),s("span",{staticClass:"line-number"},[n._v("36")]),s("br"),s("span",{staticClass:"line-number"},[n._v("37")]),s("br"),s("span",{staticClass:"line-number"},[n._v("38")]),s("br"),s("span",{staticClass:"line-number"},[n._v("39")]),s("br"),s("span",{staticClass:"line-number"},[n._v("40")]),s("br"),s("span",{staticClass:"line-number"},[n._v("41")]),s("br"),s("span",{staticClass:"line-number"},[n._v("42")]),s("br"),s("span",{staticClass:"line-number"},[n._v("43")]),s("br"),s("span",{staticClass:"line-number"},[n._v("44")]),s("br"),s("span",{staticClass:"line-number"},[n._v("45")]),s("br"),s("span",{staticClass:"line-number"},[n._v("46")]),s("br"),s("span",{staticClass:"line-number"},[n._v("47")]),s("br"),s("span",{staticClass:"line-number"},[n._v("48")]),s("br"),s("span",{staticClass:"line-number"},[n._v("49")]),s("br"),s("span",{staticClass:"line-number"},[n._v("50")]),s("br"),s("span",{staticClass:"line-number"},[n._v("51")]),s("br"),s("span",{staticClass:"line-number"},[n._v("52")]),s("br"),s("span",{staticClass:"line-number"},[n._v("53")]),s("br"),s("span",{staticClass:"line-number"},[n._v("54")]),s("br"),s("span",{staticClass:"line-number"},[n._v("55")]),s("br"),s("span",{staticClass:"line-number"},[n._v("56")]),s("br"),s("span",{staticClass:"line-number"},[n._v("57")]),s("br"),s("span",{staticClass:"line-number"},[n._v("58")]),s("br"),s("span",{staticClass:"line-number"},[n._v("59")]),s("br"),s("span",{staticClass:"line-number"},[n._v("60")]),s("br"),s("span",{staticClass:"line-number"},[n._v("61")]),s("br"),s("span",{staticClass:"line-number"},[n._v("62")]),s("br"),s("span",{staticClass:"line-number"},[n._v("63")]),s("br"),s("span",{staticClass:"line-number"},[n._v("64")]),s("br"),s("span",{staticClass:"line-number"},[n._v("65")]),s("br"),s("span",{staticClass:"line-number"},[n._v("66")]),s("br"),s("span",{staticClass:"line-number"},[n._v("67")]),s("br"),s("span",{staticClass:"line-number"},[n._v("68")]),s("br"),s("span",{staticClass:"line-number"},[n._v("69")]),s("br"),s("span",{staticClass:"line-number"},[n._v("70")]),s("br"),s("span",{staticClass:"line-number"},[n._v("71")]),s("br"),s("span",{staticClass:"line-number"},[n._v("72")]),s("br"),s("span",{staticClass:"line-number"},[n._v("73")]),s("br"),s("span",{staticClass:"line-number"},[n._v("74")]),s("br"),s("span",{staticClass:"line-number"},[n._v("75")]),s("br"),s("span",{staticClass:"line-number"},[n._v("76")]),s("br"),s("span",{staticClass:"line-number"},[n._v("77")]),s("br"),s("span",{staticClass:"line-number"},[n._v("78")]),s("br"),s("span",{staticClass:"line-number"},[n._v("79")]),s("br"),s("span",{staticClass:"line-number"},[n._v("80")]),s("br"),s("span",{staticClass:"line-number"},[n._v("81")]),s("br"),s("span",{staticClass:"line-number"},[n._v("82")]),s("br"),s("span",{staticClass:"line-number"},[n._v("83")]),s("br"),s("span",{staticClass:"line-number"},[n._v("84")]),s("br"),s("span",{staticClass:"line-number"},[n._v("85")]),s("br"),s("span",{staticClass:"line-number"},[n._v("86")]),s("br"),s("span",{staticClass:"line-number"},[n._v("87")]),s("br"),s("span",{staticClass:"line-number"},[n._v("88")]),s("br"),s("span",{staticClass:"line-number"},[n._v("89")]),s("br"),s("span",{staticClass:"line-number"},[n._v("90")]),s("br"),s("span",{staticClass:"line-number"},[n._v("91")]),s("br"),s("span",{staticClass:"line-number"},[n._v("92")]),s("br"),s("span",{staticClass:"line-number"},[n._v("93")]),s("br"),s("span",{staticClass:"line-number"},[n._v("94")]),s("br"),s("span",{staticClass:"line-number"},[n._v("95")]),s("br"),s("span",{staticClass:"line-number"},[n._v("96")]),s("br"),s("span",{staticClass:"line-number"},[n._v("97")]),s("br"),s("span",{staticClass:"line-number"},[n._v("98")]),s("br"),s("span",{staticClass:"line-number"},[n._v("99")]),s("br"),s("span",{staticClass:"line-number"},[n._v("100")]),s("br"),s("span",{staticClass:"line-number"},[n._v("101")]),s("br"),s("span",{staticClass:"line-number"},[n._v("102")]),s("br"),s("span",{staticClass:"line-number"},[n._v("103")]),s("br"),s("span",{staticClass:"line-number"},[n._v("104")]),s("br"),s("span",{staticClass:"line-number"},[n._v("105")]),s("br"),s("span",{staticClass:"line-number"},[n._v("106")]),s("br"),s("span",{staticClass:"line-number"},[n._v("107")]),s("br"),s("span",{staticClass:"line-number"},[n._v("108")]),s("br"),s("span",{staticClass:"line-number"},[n._v("109")]),s("br"),s("span",{staticClass:"line-number"},[n._v("110")]),s("br"),s("span",{staticClass:"line-number"},[n._v("111")]),s("br"),s("span",{staticClass:"line-number"},[n._v("112")]),s("br"),s("span",{staticClass:"line-number"},[n._v("113")]),s("br"),s("span",{staticClass:"line-number"},[n._v("114")]),s("br"),s("span",{staticClass:"line-number"},[n._v("115")]),s("br"),s("span",{staticClass:"line-number"},[n._v("116")]),s("br"),s("span",{staticClass:"line-number"},[n._v("117")]),s("br"),s("span",{staticClass:"line-number"},[n._v("118")]),s("br"),s("span",{staticClass:"line-number"},[n._v("119")]),s("br"),s("span",{staticClass:"line-number"},[n._v("120")]),s("br"),s("span",{staticClass:"line-number"},[n._v("121")]),s("br"),s("span",{staticClass:"line-number"},[n._v("122")]),s("br"),s("span",{staticClass:"line-number"},[n._v("123")]),s("br"),s("span",{staticClass:"line-number"},[n._v("124")]),s("br"),s("span",{staticClass:"line-number"},[n._v("125")]),s("br"),s("span",{staticClass:"line-number"},[n._v("126")]),s("br"),s("span",{staticClass:"line-number"},[n._v("127")]),s("br"),s("span",{staticClass:"line-number"},[n._v("128")]),s("br"),s("span",{staticClass:"line-number"},[n._v("129")]),s("br"),s("span",{staticClass:"line-number"},[n._v("130")]),s("br"),s("span",{staticClass:"line-number"},[n._v("131")]),s("br"),s("span",{staticClass:"line-number"},[n._v("132")]),s("br"),s("span",{staticClass:"line-number"},[n._v("133")]),s("br"),s("span",{staticClass:"line-number"},[n._v("134")]),s("br"),s("span",{staticClass:"line-number"},[n._v("135")]),s("br"),s("span",{staticClass:"line-number"},[n._v("136")]),s("br"),s("span",{staticClass:"line-number"},[n._v("137")]),s("br"),s("span",{staticClass:"line-number"},[n._v("138")]),s("br"),s("span",{staticClass:"line-number"},[n._v("139")]),s("br"),s("span",{staticClass:"line-number"},[n._v("140")]),s("br"),s("span",{staticClass:"line-number"},[n._v("141")]),s("br"),s("span",{staticClass:"line-number"},[n._v("142")]),s("br"),s("span",{staticClass:"line-number"},[n._v("143")]),s("br"),s("span",{staticClass:"line-number"},[n._v("144")]),s("br"),s("span",{staticClass:"line-number"},[n._v("145")]),s("br"),s("span",{staticClass:"line-number"},[n._v("146")]),s("br"),s("span",{staticClass:"line-number"},[n._v("147")]),s("br"),s("span",{staticClass:"line-number"},[n._v("148")]),s("br"),s("span",{staticClass:"line-number"},[n._v("149")]),s("br"),s("span",{staticClass:"line-number"},[n._v("150")]),s("br"),s("span",{staticClass:"line-number"},[n._v("151")]),s("br"),s("span",{staticClass:"line-number"},[n._v("152")]),s("br"),s("span",{staticClass:"line-number"},[n._v("153")]),s("br"),s("span",{staticClass:"line-number"},[n._v("154")]),s("br"),s("span",{staticClass:"line-number"},[n._v("155")]),s("br"),s("span",{staticClass:"line-number"},[n._v("156")]),s("br"),s("span",{staticClass:"line-number"},[n._v("157")]),s("br"),s("span",{staticClass:"line-number"},[n._v("158")]),s("br"),s("span",{staticClass:"line-number"},[n._v("159")]),s("br"),s("span",{staticClass:"line-number"},[n._v("160")]),s("br"),s("span",{staticClass:"line-number"},[n._v("161")]),s("br"),s("span",{staticClass:"line-number"},[n._v("162")]),s("br"),s("span",{staticClass:"line-number"},[n._v("163")]),s("br"),s("span",{staticClass:"line-number"},[n._v("164")]),s("br"),s("span",{staticClass:"line-number"},[n._v("165")]),s("br"),s("span",{staticClass:"line-number"},[n._v("166")]),s("br"),s("span",{staticClass:"line-number"},[n._v("167")]),s("br"),s("span",{staticClass:"line-number"},[n._v("168")]),s("br"),s("span",{staticClass:"line-number"},[n._v("169")]),s("br"),s("span",{staticClass:"line-number"},[n._v("170")]),s("br"),s("span",{staticClass:"line-number"},[n._v("171")]),s("br"),s("span",{staticClass:"line-number"},[n._v("172")]),s("br"),s("span",{staticClass:"line-number"},[n._v("173")]),s("br"),s("span",{staticClass:"line-number"},[n._v("174")]),s("br"),s("span",{staticClass:"line-number"},[n._v("175")]),s("br"),s("span",{staticClass:"line-number"},[n._v("176")]),s("br"),s("span",{staticClass:"line-number"},[n._v("177")]),s("br"),s("span",{staticClass:"line-number"},[n._v("178")]),s("br"),s("span",{staticClass:"line-number"},[n._v("179")]),s("br"),s("span",{staticClass:"line-number"},[n._v("180")]),s("br"),s("span",{staticClass:"line-number"},[n._v("181")]),s("br"),s("span",{staticClass:"line-number"},[n._v("182")]),s("br"),s("span",{staticClass:"line-number"},[n._v("183")]),s("br"),s("span",{staticClass:"line-number"},[n._v("184")]),s("br"),s("span",{staticClass:"line-number"},[n._v("185")]),s("br"),s("span",{staticClass:"line-number"},[n._v("186")]),s("br"),s("span",{staticClass:"line-number"},[n._v("187")]),s("br"),s("span",{staticClass:"line-number"},[n._v("188")]),s("br"),s("span",{staticClass:"line-number"},[n._v("189")]),s("br"),s("span",{staticClass:"line-number"},[n._v("190")]),s("br"),s("span",{staticClass:"line-number"},[n._v("191")]),s("br"),s("span",{staticClass:"line-number"},[n._v("192")]),s("br"),s("span",{staticClass:"line-number"},[n._v("193")]),s("br"),s("span",{staticClass:"line-number"},[n._v("194")]),s("br"),s("span",{staticClass:"line-number"},[n._v("195")]),s("br"),s("span",{staticClass:"line-number"},[n._v("196")]),s("br"),s("span",{staticClass:"line-number"},[n._v("197")]),s("br"),s("span",{staticClass:"line-number"},[n._v("198")]),s("br"),s("span",{staticClass:"line-number"},[n._v("199")]),s("br"),s("span",{staticClass:"line-number"},[n._v("200")]),s("br"),s("span",{staticClass:"line-number"},[n._v("201")]),s("br"),s("span",{staticClass:"line-number"},[n._v("202")]),s("br"),s("span",{staticClass:"line-number"},[n._v("203")]),s("br"),s("span",{staticClass:"line-number"},[n._v("204")]),s("br"),s("span",{staticClass:"line-number"},[n._v("205")]),s("br"),s("span",{staticClass:"line-number"},[n._v("206")]),s("br"),s("span",{staticClass:"line-number"},[n._v("207")]),s("br"),s("span",{staticClass:"line-number"},[n._v("208")]),s("br"),s("span",{staticClass:"line-number"},[n._v("209")]),s("br"),s("span",{staticClass:"line-number"},[n._v("210")]),s("br"),s("span",{staticClass:"line-number"},[n._v("211")]),s("br"),s("span",{staticClass:"line-number"},[n._v("212")]),s("br"),s("span",{staticClass:"line-number"},[n._v("213")]),s("br"),s("span",{staticClass:"line-number"},[n._v("214")]),s("br"),s("span",{staticClass:"line-number"},[n._v("215")]),s("br"),s("span",{staticClass:"line-number"},[n._v("216")]),s("br"),s("span",{staticClass:"line-number"},[n._v("217")]),s("br"),s("span",{staticClass:"line-number"},[n._v("218")]),s("br"),s("span",{staticClass:"line-number"},[n._v("219")]),s("br"),s("span",{staticClass:"line-number"},[n._v("220")]),s("br"),s("span",{staticClass:"line-number"},[n._v("221")]),s("br"),s("span",{staticClass:"line-number"},[n._v("222")]),s("br"),s("span",{staticClass:"line-number"},[n._v("223")]),s("br"),s("span",{staticClass:"line-number"},[n._v("224")]),s("br"),s("span",{staticClass:"line-number"},[n._v("225")]),s("br"),s("span",{staticClass:"line-number"},[n._v("226")]),s("br"),s("span",{staticClass:"line-number"},[n._v("227")]),s("br"),s("span",{staticClass:"line-number"},[n._v("228")]),s("br"),s("span",{staticClass:"line-number"},[n._v("229")]),s("br"),s("span",{staticClass:"line-number"},[n._v("230")]),s("br"),s("span",{staticClass:"line-number"},[n._v("231")]),s("br"),s("span",{staticClass:"line-number"},[n._v("232")]),s("br"),s("span",{staticClass:"line-number"},[n._v("233")]),s("br"),s("span",{staticClass:"line-number"},[n._v("234")]),s("br"),s("span",{staticClass:"line-number"},[n._v("235")]),s("br"),s("span",{staticClass:"line-number"},[n._v("236")]),s("br"),s("span",{staticClass:"line-number"},[n._v("237")]),s("br"),s("span",{staticClass:"line-number"},[n._v("238")]),s("br"),s("span",{staticClass:"line-number"},[n._v("239")]),s("br"),s("span",{staticClass:"line-number"},[n._v("240")]),s("br"),s("span",{staticClass:"line-number"},[n._v("241")]),s("br"),s("span",{staticClass:"line-number"},[n._v("242")]),s("br"),s("span",{staticClass:"line-number"},[n._v("243")]),s("br"),s("span",{staticClass:"line-number"},[n._v("244")]),s("br"),s("span",{staticClass:"line-number"},[n._v("245")]),s("br"),s("span",{staticClass:"line-number"},[n._v("246")]),s("br"),s("span",{staticClass:"line-number"},[n._v("247")]),s("br"),s("span",{staticClass:"line-number"},[n._v("248")]),s("br"),s("span",{staticClass:"line-number"},[n._v("249")]),s("br"),s("span",{staticClass:"line-number"},[n._v("250")]),s("br"),s("span",{staticClass:"line-number"},[n._v("251")]),s("br"),s("span",{staticClass:"line-number"},[n._v("252")]),s("br"),s("span",{staticClass:"line-number"},[n._v("253")]),s("br"),s("span",{staticClass:"line-number"},[n._v("254")]),s("br"),s("span",{staticClass:"line-number"},[n._v("255")]),s("br"),s("span",{staticClass:"line-number"},[n._v("256")]),s("br"),s("span",{staticClass:"line-number"},[n._v("257")]),s("br"),s("span",{staticClass:"line-number"},[n._v("258")]),s("br"),s("span",{staticClass:"line-number"},[n._v("259")]),s("br"),s("span",{staticClass:"line-number"},[n._v("260")]),s("br"),s("span",{staticClass:"line-number"},[n._v("261")]),s("br"),s("span",{staticClass:"line-number"},[n._v("262")]),s("br"),s("span",{staticClass:"line-number"},[n._v("263")]),s("br"),s("span",{staticClass:"line-number"},[n._v("264")]),s("br"),s("span",{staticClass:"line-number"},[n._v("265")]),s("br"),s("span",{staticClass:"line-number"},[n._v("266")]),s("br"),s("span",{staticClass:"line-number"},[n._v("267")]),s("br"),s("span",{staticClass:"line-number"},[n._v("268")]),s("br"),s("span",{staticClass:"line-number"},[n._v("269")]),s("br"),s("span",{staticClass:"line-number"},[n._v("270")]),s("br"),s("span",{staticClass:"line-number"},[n._v("271")]),s("br"),s("span",{staticClass:"line-number"},[n._v("272")]),s("br"),s("span",{staticClass:"line-number"},[n._v("273")]),s("br"),s("span",{staticClass:"line-number"},[n._v("274")]),s("br"),s("span",{staticClass:"line-number"},[n._v("275")]),s("br"),s("span",{staticClass:"line-number"},[n._v("276")]),s("br"),s("span",{staticClass:"line-number"},[n._v("277")]),s("br"),s("span",{staticClass:"line-number"},[n._v("278")]),s("br"),s("span",{staticClass:"line-number"},[n._v("279")]),s("br"),s("span",{staticClass:"line-number"},[n._v("280")]),s("br"),s("span",{staticClass:"line-number"},[n._v("281")]),s("br"),s("span",{staticClass:"line-number"},[n._v("282")]),s("br"),s("span",{staticClass:"line-number"},[n._v("283")]),s("br"),s("span",{staticClass:"line-number"},[n._v("284")]),s("br"),s("span",{staticClass:"line-number"},[n._v("285")]),s("br"),s("span",{staticClass:"line-number"},[n._v("286")]),s("br"),s("span",{staticClass:"line-number"},[n._v("287")]),s("br"),s("span",{staticClass:"line-number"},[n._v("288")]),s("br"),s("span",{staticClass:"line-number"},[n._v("289")]),s("br"),s("span",{staticClass:"line-number"},[n._v("290")]),s("br"),s("span",{staticClass:"line-number"},[n._v("291")]),s("br"),s("span",{staticClass:"line-number"},[n._v("292")]),s("br"),s("span",{staticClass:"line-number"},[n._v("293")]),s("br"),s("span",{staticClass:"line-number"},[n._v("294")]),s("br"),s("span",{staticClass:"line-number"},[n._v("295")]),s("br"),s("span",{staticClass:"line-number"},[n._v("296")]),s("br"),s("span",{staticClass:"line-number"},[n._v("297")]),s("br"),s("span",{staticClass:"line-number"},[n._v("298")]),s("br"),s("span",{staticClass:"line-number"},[n._v("299")]),s("br"),s("span",{staticClass:"line-number"},[n._v("300")]),s("br"),s("span",{staticClass:"line-number"},[n._v("301")]),s("br"),s("span",{staticClass:"line-number"},[n._v("302")]),s("br"),s("span",{staticClass:"line-number"},[n._v("303")]),s("br"),s("span",{staticClass:"line-number"},[n._v("304")]),s("br"),s("span",{staticClass:"line-number"},[n._v("305")]),s("br"),s("span",{staticClass:"line-number"},[n._v("306")]),s("br"),s("span",{staticClass:"line-number"},[n._v("307")]),s("br"),s("span",{staticClass:"line-number"},[n._v("308")]),s("br"),s("span",{staticClass:"line-number"},[n._v("309")]),s("br"),s("span",{staticClass:"line-number"},[n._v("310")]),s("br"),s("span",{staticClass:"line-number"},[n._v("311")]),s("br"),s("span",{staticClass:"line-number"},[n._v("312")]),s("br"),s("span",{staticClass:"line-number"},[n._v("313")]),s("br"),s("span",{staticClass:"line-number"},[n._v("314")]),s("br"),s("span",{staticClass:"line-number"},[n._v("315")]),s("br"),s("span",{staticClass:"line-number"},[n._v("316")]),s("br"),s("span",{staticClass:"line-number"},[n._v("317")]),s("br"),s("span",{staticClass:"line-number"},[n._v("318")]),s("br"),s("span",{staticClass:"line-number"},[n._v("319")]),s("br"),s("span",{staticClass:"line-number"},[n._v("320")]),s("br"),s("span",{staticClass:"line-number"},[n._v("321")]),s("br"),s("span",{staticClass:"line-number"},[n._v("322")]),s("br"),s("span",{staticClass:"line-number"},[n._v("323")]),s("br"),s("span",{staticClass:"line-number"},[n._v("324")]),s("br"),s("span",{staticClass:"line-number"},[n._v("325")]),s("br"),s("span",{staticClass:"line-number"},[n._v("326")]),s("br"),s("span",{staticClass:"line-number"},[n._v("327")]),s("br"),s("span",{staticClass:"line-number"},[n._v("328")]),s("br"),s("span",{staticClass:"line-number"},[n._v("329")]),s("br"),s("span",{staticClass:"line-number"},[n._v("330")]),s("br"),s("span",{staticClass:"line-number"},[n._v("331")]),s("br"),s("span",{staticClass:"line-number"},[n._v("332")]),s("br"),s("span",{staticClass:"line-number"},[n._v("333")]),s("br"),s("span",{staticClass:"line-number"},[n._v("334")]),s("br"),s("span",{staticClass:"line-number"},[n._v("335")]),s("br"),s("span",{staticClass:"line-number"},[n._v("336")]),s("br"),s("span",{staticClass:"line-number"},[n._v("337")]),s("br"),s("span",{staticClass:"line-number"},[n._v("338")]),s("br"),s("span",{staticClass:"line-number"},[n._v("339")]),s("br"),s("span",{staticClass:"line-number"},[n._v("340")]),s("br"),s("span",{staticClass:"line-number"},[n._v("341")]),s("br"),s("span",{staticClass:"line-number"},[n._v("342")]),s("br"),s("span",{staticClass:"line-number"},[n._v("343")]),s("br"),s("span",{staticClass:"line-number"},[n._v("344")]),s("br"),s("span",{staticClass:"line-number"},[n._v("345")]),s("br"),s("span",{staticClass:"line-number"},[n._v("346")]),s("br"),s("span",{staticClass:"line-number"},[n._v("347")]),s("br"),s("span",{staticClass:"line-number"},[n._v("348")]),s("br"),s("span",{staticClass:"line-number"},[n._v("349")]),s("br"),s("span",{staticClass:"line-number"},[n._v("350")]),s("br"),s("span",{staticClass:"line-number"},[n._v("351")]),s("br"),s("span",{staticClass:"line-number"},[n._v("352")]),s("br"),s("span",{staticClass:"line-number"},[n._v("353")]),s("br"),s("span",{staticClass:"line-number"},[n._v("354")]),s("br"),s("span",{staticClass:"line-number"},[n._v("355")]),s("br"),s("span",{staticClass:"line-number"},[n._v("356")]),s("br"),s("span",{staticClass:"line-number"},[n._v("357")]),s("br"),s("span",{staticClass:"line-number"},[n._v("358")]),s("br"),s("span",{staticClass:"line-number"},[n._v("359")]),s("br"),s("span",{staticClass:"line-number"},[n._v("360")]),s("br"),s("span",{staticClass:"line-number"},[n._v("361")]),s("br"),s("span",{staticClass:"line-number"},[n._v("362")]),s("br"),s("span",{staticClass:"line-number"},[n._v("363")]),s("br"),s("span",{staticClass:"line-number"},[n._v("364")]),s("br"),s("span",{staticClass:"line-number"},[n._v("365")]),s("br"),s("span",{staticClass:"line-number"},[n._v("366")]),s("br"),s("span",{staticClass:"line-number"},[n._v("367")]),s("br"),s("span",{staticClass:"line-number"},[n._v("368")]),s("br"),s("span",{staticClass:"line-number"},[n._v("369")]),s("br")])]),s("h3",{attrs:{id:"_5-6-fragment-shader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-fragment-shader"}},[n._v("#")]),n._v(" 5.6 Fragment Shader")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("#version 300 es\n#define varying in\nout highp vec4 pc_fragColor;\n#define gl_FragColor pc_fragColor\n#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad\nprecision highp float;\nprecision highp int;\n#define HIGH_PRECISION\n#define SHADER_NAME MeshBasicMaterial\n#define GAMMA_FACTOR 2\n#define USE_MAP\n#define USE_ENVMAP\n#define ENVMAP_TYPE_CUBE\n#define ENVMAP_MODE_REFRACTION\n#define ENVMAP_BLENDING_MULTIPLY\n#define USE_UV\n#define TEXTURE_LOD_EXT\nuniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\nuniform bool isOrthographic;\nvec4 LinearToLinear( in vec4 value ) {\n    return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n    return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n    return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n    return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n    return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n    return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n    float maxComponent = max( max( value.r, value.g ), value.b );\n    float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n    return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n    float maxRGB = max( value.r, max( value.g, value.b ) );\n    float M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n    M = ceil( M * 255.0 ) / 255.0;\n    return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB = max( value.r, max( value.g, value.b ) );\n    float D = max( maxRange / maxRGB, 1.0 );\n    D = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n    vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n    Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n    vec4 vResult;\n    vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n    float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n    vResult.w = fract( Le );\n    vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n    return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n    float Le = value.z * 255.0 + value.w;\n    vec3 Xp_Y_XYZp;\n    Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n    Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n    Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n    vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n    return vec4( max( vRGB, 0.0 ), 1.0 );\n}\nvec4 mapTexelToLinear( vec4 value ) {\n    return LinearToLinear( value );\n}\nvec4 envMapTexelToLinear( vec4 value ) {\n    return LinearToLinear( value );\n}\nvec4 linearToOutputTexel( vec4 value ) {\n    return LinearToLinear( value );\n}\nuniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n    varying vec3 vNormal;\n#endif\n#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n    #define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) {\n    return x*x;\n}\nfloat pow3( const in float x ) {\n    return x*x*x;\n}\nfloat pow4( const in float x ) {\n    float x2 = x*x;\n    return x2*x2;\n}\nfloat average( const in vec3 color ) {\n    return dot( color, vec3( 0.3333 ) );\n}\nhighp float rand( const in vec2 uv ) {\n    const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n    highp float dt = dot( uv.xy, vec2( a, b ) ), sn = mod( dt, PI );\n    return fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n    float precisionSafeLength( vec3 v ) {\n        return length( v );\n    }\n#else\n    float max3( vec3 v ) {\n        return max( max( v.x, v.y ), v.z );\n    }\n    float precisionSafeLength( vec3 v ) {\n        float maxComponent = max3( abs( v ) );\n        return length( v / maxComponent ) * maxComponent;\n    }\n#endif\nstruct IncidentLight {\n    vec3 color;\n    vec3 direction;\n    bool visible;\n};\nstruct ReflectedLight {\n    vec3 directDiffuse;\n    vec3 directSpecular;\n    vec3 indirectDiffuse;\n    vec3 indirectSpecular;\n};\nstruct GeometricContext {\n    vec3 position;\n    vec3 normal;\n    vec3 viewDir;\n    #ifdef CLEARCOAT\n        vec3 clearcoatNormal;\n    #endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n    return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n    return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n    float distance = dot( planeNormal, point - pointOnPlane );\n    return - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n    return sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n    return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n    mat3 tmp;\n    tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n    tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n    tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n    return tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n    vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n    return dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n    return m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n    float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n    float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n    return vec2( u, v );\n}\n#ifdef DITHERING\n    vec3 dithering( vec3 color ) {\n        float grid_position = rand( gl_FragCoord.xy );\n        vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n        dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n        return color + dither_shift_RGB;\n    }\n#endif\n#ifdef USE_COLOR\n    varying vec3 vColor;\n#endif\n#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n    varying vec2 vUv;\n#endif\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n    varying vec2 vUv2;\n#endif\n#ifdef USE_MAP\n    uniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n    uniform sampler2D alphaMap;\n#endif\n#ifdef USE_AOMAP\n    uniform sampler2D aoMap;\n    uniform float aoMapIntensity;\n#endif\n#ifdef USE_LIGHTMAP\n    uniform sampler2D lightMap;\n    uniform float lightMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n    uniform float envMapIntensity;\n    uniform float flipEnvMap;\n    uniform int maxMipLevel;\n    #ifdef ENVMAP_TYPE_CUBE\n        uniform samplerCube envMap;\n    #else\n        uniform sampler2D envMap;\n    #endif\n    \n#endif\n#ifdef USE_ENVMAP\n    uniform float reflectivity;\n    #if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n        #define ENV_WORLDPOS\n    #endif\n    #ifdef ENV_WORLDPOS\n        varying vec3 vWorldPosition;\n        uniform float refractionRatio;\n    #else\n        varying vec3 vReflect;\n    #endif\n#endif\n#ifdef ENVMAP_TYPE_CUBE_UV\n    #define cubeUV_maxMipLevel 8.0\n    #define cubeUV_minMipLevel 4.0\n    #define cubeUV_maxTileSize 256.0\n    #define cubeUV_minTileSize 16.0\n    float getFace( vec3 direction ) {\n        vec3 absDirection = abs( direction );\n        float face = - 1.0;\n        if ( absDirection.x > absDirection.z ) {\n            if ( absDirection.x > absDirection.y )\n            face = direction.x > 0.0 ? 0.0 : 3.0;\n            else\n            face = direction.y > 0.0 ? 1.0 : 4.0;\n        }\n        else {\n            if ( absDirection.z > absDirection.y )\n            face = direction.z > 0.0 ? 2.0 : 5.0;\n            else\n            face = direction.y > 0.0 ? 1.0 : 4.0;\n        }\n        return face;\n    }\n    vec2 getUV( vec3 direction, float face ) {\n        vec2 uv;\n        if ( face == 0.0 ) {\n            uv = vec2( direction.z, direction.y ) / abs( direction.x );\n        }\n        else if ( face == 1.0 ) {\n            uv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n        }\n        else if ( face == 2.0 ) {\n            uv = vec2( - direction.x, direction.y ) / abs( direction.z );\n        }\n        else if ( face == 3.0 ) {\n            uv = vec2( - direction.z, direction.y ) / abs( direction.x );\n        }\n        else if ( face == 4.0 ) {\n            uv = vec2( - direction.x, direction.z ) / abs( direction.y );\n        }\n        else {\n            uv = vec2( direction.x, direction.y ) / abs( direction.z );\n        }\n        return 0.5 * ( uv + 1.0 );\n    }\n    vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n        float face = getFace( direction );\n        float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n        mipInt = max( mipInt, cubeUV_minMipLevel );\n        float faceSize = exp2( mipInt );\n        float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n        vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n        vec2 f = fract( uv );\n        uv += 0.5 - f;\n        if ( face > 2.0 ) {\n            uv.y += faceSize;\n            face -= 3.0;\n        }\n        uv.x += face * faceSize;\n        if ( mipInt < cubeUV_maxMipLevel ) {\n            uv.y += 2.0 * cubeUV_maxTileSize;\n        }\n        uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n        uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n        uv *= texelSize;\n        vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n        uv.x += texelSize;\n        vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n        uv.y += texelSize;\n        vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n        uv.x -= texelSize;\n        vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n        vec3 tm = mix( tl, tr, f.x );\n        vec3 bm = mix( bl, br, f.x );\n        return mix( tm, bm, f.y );\n    }\n    #define r0 1.0\n    #define v0 0.339\n    #define m0 - 2.0\n    #define r1 0.8\n    #define v1 0.276\n    #define m1 - 1.0\n    #define r4 0.4\n    #define v4 0.046\n    #define m4 2.0\n    #define r5 0.305\n    #define v5 0.016\n    #define m5 3.0\n    #define r6 0.21\n    #define v6 0.0038\n    #define m6 4.0\n    float roughnessToMip( float roughness ) {\n        float mip = 0.0;\n        if ( roughness >= r1 ) {\n            mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n        }\n        else if ( roughness >= r4 ) {\n            mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n        }\n        else if ( roughness >= r5 ) {\n            mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n        }\n        else if ( roughness >= r6 ) {\n            mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n        }\n        else {\n            mip = - 2.0 * log2( 1.16 * roughness );\n        }\n        return mip;\n    }\n    vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n        float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n        float mipF = fract( mip );\n        float mipInt = floor( mip );\n        vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n        if ( mipF == 0.0 ) {\n            return vec4( color0, 1.0 );\n        }\n        else {\n            vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n            return vec4( mix( color0, color1, mipF ), 1.0 );\n        }\n    \n    }\n#endif\n#ifdef USE_FOG\n    uniform vec3 fogColor;\n    varying float fogDepth;\n    #ifdef FOG_EXP2\n        uniform float fogDensity;\n    #else\n        uniform float fogNear;\n        uniform float fogFar;\n    #endif\n#endif\n#ifdef USE_SPECULARMAP\n    uniform sampler2D specularMap;\n#endif\n#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n    uniform float logDepthBufFC;\n    varying float vFragDepth;\n    varying float vIsPerspective;\n#endif\n#if 0 > 0\n    varying vec3 vClipPosition;\n    uniform vec4 clippingPlanes[ 0 ];\n#endif\nvoid main() {\n    #if 0 > 0\n        vec4 plane;\n        #if 0 < 0\n            bool clipped = true;\n            if ( clipped ) discard;\n        #endif\n    #endif\n    vec4 diffuseColor = vec4( diffuse, opacity );\n    #if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n        gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n    #endif\n    #ifdef USE_MAP\n        vec4 texelColor = texture2D( map, vUv );\n        texelColor = mapTexelToLinear( texelColor );\n        diffuseColor *= texelColor;\n    #endif\n    #ifdef USE_COLOR\n        diffuseColor.rgb *= vColor;\n    #endif\n    #ifdef USE_ALPHAMAP\n        diffuseColor.a *= texture2D( alphaMap, vUv ).g;\n    #endif\n    #ifdef ALPHATEST\n        if ( diffuseColor.a < ALPHATEST ) discard;\n    #endif\n    float specularStrength;\n    #ifdef USE_SPECULARMAP\n        vec4 texelSpecular = texture2D( specularMap, vUv );\n        specularStrength = texelSpecular.r;\n    #else\n        specularStrength = 1.0;\n    #endif\n    ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n    #ifdef USE_LIGHTMAP\n        \n        vec4 lightMapTexel = texture2D( lightMap, vUv2 );\n        reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n    #else\n        reflectedLight.indirectDiffuse += vec3( 1.0 );\n    #endif\n    #ifdef USE_AOMAP\n        float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n        reflectedLight.indirectDiffuse *= ambientOcclusion;\n        #if defined( USE_ENVMAP ) && defined( STANDARD )\n            float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n            reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n        #endif\n    #endif\n    reflectedLight.indirectDiffuse *= diffuseColor.rgb;\n    vec3 outgoingLight = reflectedLight.indirectDiffuse;\n    #ifdef USE_ENVMAP\n        #ifdef ENV_WORLDPOS\n            vec3 cameraToFrag;\n            if ( isOrthographic ) {\n                cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n            }\n            else {\n                cameraToFrag = normalize( vWorldPosition - cameraPosition );\n            }\n            vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n            #ifdef ENVMAP_MODE_REFLECTION\n                vec3 reflectVec = reflect( cameraToFrag, worldNormal );\n            #else\n                vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n            #endif\n        #else\n            vec3 reflectVec = vReflect;\n        #endif\n        #ifdef ENVMAP_TYPE_CUBE\n            vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n            #elif defined( ENVMAP_TYPE_CUBE_UV )\n            vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n        #else\n            vec4 envColor = vec4( 0.0 );\n        #endif\n        #ifndef ENVMAP_TYPE_CUBE_UV\n            envColor = envMapTexelToLinear( envColor );\n        #endif\n        #ifdef ENVMAP_BLENDING_MULTIPLY\n            outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n            #elif defined( ENVMAP_BLENDING_MIX )\n            outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n            #elif defined( ENVMAP_BLENDING_ADD )\n            outgoingLight += envColor.xyz * specularStrength * reflectivity;\n        #endif\n    #endif\n    gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n    #if defined( TONE_MAPPING )\n        gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n    #endif\n    gl_FragColor = linearToOutputTexel( gl_FragColor );\n    #ifdef USE_FOG\n        #ifdef FOG_EXP2\n            float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n        #else\n            float fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n        #endif\n        gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n    #endif\n    #ifdef PREMULTIPLIED_ALPHA\n        gl_FragColor.rgb *= gl_FragColor.a;\n    #endif\n    #ifdef DITHERING\n        gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n    #endif\n}\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br"),s("span",{staticClass:"line-number"},[n._v("28")]),s("br"),s("span",{staticClass:"line-number"},[n._v("29")]),s("br"),s("span",{staticClass:"line-number"},[n._v("30")]),s("br"),s("span",{staticClass:"line-number"},[n._v("31")]),s("br"),s("span",{staticClass:"line-number"},[n._v("32")]),s("br"),s("span",{staticClass:"line-number"},[n._v("33")]),s("br"),s("span",{staticClass:"line-number"},[n._v("34")]),s("br"),s("span",{staticClass:"line-number"},[n._v("35")]),s("br"),s("span",{staticClass:"line-number"},[n._v("36")]),s("br"),s("span",{staticClass:"line-number"},[n._v("37")]),s("br"),s("span",{staticClass:"line-number"},[n._v("38")]),s("br"),s("span",{staticClass:"line-number"},[n._v("39")]),s("br"),s("span",{staticClass:"line-number"},[n._v("40")]),s("br"),s("span",{staticClass:"line-number"},[n._v("41")]),s("br"),s("span",{staticClass:"line-number"},[n._v("42")]),s("br"),s("span",{staticClass:"line-number"},[n._v("43")]),s("br"),s("span",{staticClass:"line-number"},[n._v("44")]),s("br"),s("span",{staticClass:"line-number"},[n._v("45")]),s("br"),s("span",{staticClass:"line-number"},[n._v("46")]),s("br"),s("span",{staticClass:"line-number"},[n._v("47")]),s("br"),s("span",{staticClass:"line-number"},[n._v("48")]),s("br"),s("span",{staticClass:"line-number"},[n._v("49")]),s("br"),s("span",{staticClass:"line-number"},[n._v("50")]),s("br"),s("span",{staticClass:"line-number"},[n._v("51")]),s("br"),s("span",{staticClass:"line-number"},[n._v("52")]),s("br"),s("span",{staticClass:"line-number"},[n._v("53")]),s("br"),s("span",{staticClass:"line-number"},[n._v("54")]),s("br"),s("span",{staticClass:"line-number"},[n._v("55")]),s("br"),s("span",{staticClass:"line-number"},[n._v("56")]),s("br"),s("span",{staticClass:"line-number"},[n._v("57")]),s("br"),s("span",{staticClass:"line-number"},[n._v("58")]),s("br"),s("span",{staticClass:"line-number"},[n._v("59")]),s("br"),s("span",{staticClass:"line-number"},[n._v("60")]),s("br"),s("span",{staticClass:"line-number"},[n._v("61")]),s("br"),s("span",{staticClass:"line-number"},[n._v("62")]),s("br"),s("span",{staticClass:"line-number"},[n._v("63")]),s("br"),s("span",{staticClass:"line-number"},[n._v("64")]),s("br"),s("span",{staticClass:"line-number"},[n._v("65")]),s("br"),s("span",{staticClass:"line-number"},[n._v("66")]),s("br"),s("span",{staticClass:"line-number"},[n._v("67")]),s("br"),s("span",{staticClass:"line-number"},[n._v("68")]),s("br"),s("span",{staticClass:"line-number"},[n._v("69")]),s("br"),s("span",{staticClass:"line-number"},[n._v("70")]),s("br"),s("span",{staticClass:"line-number"},[n._v("71")]),s("br"),s("span",{staticClass:"line-number"},[n._v("72")]),s("br"),s("span",{staticClass:"line-number"},[n._v("73")]),s("br"),s("span",{staticClass:"line-number"},[n._v("74")]),s("br"),s("span",{staticClass:"line-number"},[n._v("75")]),s("br"),s("span",{staticClass:"line-number"},[n._v("76")]),s("br"),s("span",{staticClass:"line-number"},[n._v("77")]),s("br"),s("span",{staticClass:"line-number"},[n._v("78")]),s("br"),s("span",{staticClass:"line-number"},[n._v("79")]),s("br"),s("span",{staticClass:"line-number"},[n._v("80")]),s("br"),s("span",{staticClass:"line-number"},[n._v("81")]),s("br"),s("span",{staticClass:"line-number"},[n._v("82")]),s("br"),s("span",{staticClass:"line-number"},[n._v("83")]),s("br"),s("span",{staticClass:"line-number"},[n._v("84")]),s("br"),s("span",{staticClass:"line-number"},[n._v("85")]),s("br"),s("span",{staticClass:"line-number"},[n._v("86")]),s("br"),s("span",{staticClass:"line-number"},[n._v("87")]),s("br"),s("span",{staticClass:"line-number"},[n._v("88")]),s("br"),s("span",{staticClass:"line-number"},[n._v("89")]),s("br"),s("span",{staticClass:"line-number"},[n._v("90")]),s("br"),s("span",{staticClass:"line-number"},[n._v("91")]),s("br"),s("span",{staticClass:"line-number"},[n._v("92")]),s("br"),s("span",{staticClass:"line-number"},[n._v("93")]),s("br"),s("span",{staticClass:"line-number"},[n._v("94")]),s("br"),s("span",{staticClass:"line-number"},[n._v("95")]),s("br"),s("span",{staticClass:"line-number"},[n._v("96")]),s("br"),s("span",{staticClass:"line-number"},[n._v("97")]),s("br"),s("span",{staticClass:"line-number"},[n._v("98")]),s("br"),s("span",{staticClass:"line-number"},[n._v("99")]),s("br"),s("span",{staticClass:"line-number"},[n._v("100")]),s("br"),s("span",{staticClass:"line-number"},[n._v("101")]),s("br"),s("span",{staticClass:"line-number"},[n._v("102")]),s("br"),s("span",{staticClass:"line-number"},[n._v("103")]),s("br"),s("span",{staticClass:"line-number"},[n._v("104")]),s("br"),s("span",{staticClass:"line-number"},[n._v("105")]),s("br"),s("span",{staticClass:"line-number"},[n._v("106")]),s("br"),s("span",{staticClass:"line-number"},[n._v("107")]),s("br"),s("span",{staticClass:"line-number"},[n._v("108")]),s("br"),s("span",{staticClass:"line-number"},[n._v("109")]),s("br"),s("span",{staticClass:"line-number"},[n._v("110")]),s("br"),s("span",{staticClass:"line-number"},[n._v("111")]),s("br"),s("span",{staticClass:"line-number"},[n._v("112")]),s("br"),s("span",{staticClass:"line-number"},[n._v("113")]),s("br"),s("span",{staticClass:"line-number"},[n._v("114")]),s("br"),s("span",{staticClass:"line-number"},[n._v("115")]),s("br"),s("span",{staticClass:"line-number"},[n._v("116")]),s("br"),s("span",{staticClass:"line-number"},[n._v("117")]),s("br"),s("span",{staticClass:"line-number"},[n._v("118")]),s("br"),s("span",{staticClass:"line-number"},[n._v("119")]),s("br"),s("span",{staticClass:"line-number"},[n._v("120")]),s("br"),s("span",{staticClass:"line-number"},[n._v("121")]),s("br"),s("span",{staticClass:"line-number"},[n._v("122")]),s("br"),s("span",{staticClass:"line-number"},[n._v("123")]),s("br"),s("span",{staticClass:"line-number"},[n._v("124")]),s("br"),s("span",{staticClass:"line-number"},[n._v("125")]),s("br"),s("span",{staticClass:"line-number"},[n._v("126")]),s("br"),s("span",{staticClass:"line-number"},[n._v("127")]),s("br"),s("span",{staticClass:"line-number"},[n._v("128")]),s("br"),s("span",{staticClass:"line-number"},[n._v("129")]),s("br"),s("span",{staticClass:"line-number"},[n._v("130")]),s("br"),s("span",{staticClass:"line-number"},[n._v("131")]),s("br"),s("span",{staticClass:"line-number"},[n._v("132")]),s("br"),s("span",{staticClass:"line-number"},[n._v("133")]),s("br"),s("span",{staticClass:"line-number"},[n._v("134")]),s("br"),s("span",{staticClass:"line-number"},[n._v("135")]),s("br"),s("span",{staticClass:"line-number"},[n._v("136")]),s("br"),s("span",{staticClass:"line-number"},[n._v("137")]),s("br"),s("span",{staticClass:"line-number"},[n._v("138")]),s("br"),s("span",{staticClass:"line-number"},[n._v("139")]),s("br"),s("span",{staticClass:"line-number"},[n._v("140")]),s("br"),s("span",{staticClass:"line-number"},[n._v("141")]),s("br"),s("span",{staticClass:"line-number"},[n._v("142")]),s("br"),s("span",{staticClass:"line-number"},[n._v("143")]),s("br"),s("span",{staticClass:"line-number"},[n._v("144")]),s("br"),s("span",{staticClass:"line-number"},[n._v("145")]),s("br"),s("span",{staticClass:"line-number"},[n._v("146")]),s("br"),s("span",{staticClass:"line-number"},[n._v("147")]),s("br"),s("span",{staticClass:"line-number"},[n._v("148")]),s("br"),s("span",{staticClass:"line-number"},[n._v("149")]),s("br"),s("span",{staticClass:"line-number"},[n._v("150")]),s("br"),s("span",{staticClass:"line-number"},[n._v("151")]),s("br"),s("span",{staticClass:"line-number"},[n._v("152")]),s("br"),s("span",{staticClass:"line-number"},[n._v("153")]),s("br"),s("span",{staticClass:"line-number"},[n._v("154")]),s("br"),s("span",{staticClass:"line-number"},[n._v("155")]),s("br"),s("span",{staticClass:"line-number"},[n._v("156")]),s("br"),s("span",{staticClass:"line-number"},[n._v("157")]),s("br"),s("span",{staticClass:"line-number"},[n._v("158")]),s("br"),s("span",{staticClass:"line-number"},[n._v("159")]),s("br"),s("span",{staticClass:"line-number"},[n._v("160")]),s("br"),s("span",{staticClass:"line-number"},[n._v("161")]),s("br"),s("span",{staticClass:"line-number"},[n._v("162")]),s("br"),s("span",{staticClass:"line-number"},[n._v("163")]),s("br"),s("span",{staticClass:"line-number"},[n._v("164")]),s("br"),s("span",{staticClass:"line-number"},[n._v("165")]),s("br"),s("span",{staticClass:"line-number"},[n._v("166")]),s("br"),s("span",{staticClass:"line-number"},[n._v("167")]),s("br"),s("span",{staticClass:"line-number"},[n._v("168")]),s("br"),s("span",{staticClass:"line-number"},[n._v("169")]),s("br"),s("span",{staticClass:"line-number"},[n._v("170")]),s("br"),s("span",{staticClass:"line-number"},[n._v("171")]),s("br"),s("span",{staticClass:"line-number"},[n._v("172")]),s("br"),s("span",{staticClass:"line-number"},[n._v("173")]),s("br"),s("span",{staticClass:"line-number"},[n._v("174")]),s("br"),s("span",{staticClass:"line-number"},[n._v("175")]),s("br"),s("span",{staticClass:"line-number"},[n._v("176")]),s("br"),s("span",{staticClass:"line-number"},[n._v("177")]),s("br"),s("span",{staticClass:"line-number"},[n._v("178")]),s("br"),s("span",{staticClass:"line-number"},[n._v("179")]),s("br"),s("span",{staticClass:"line-number"},[n._v("180")]),s("br"),s("span",{staticClass:"line-number"},[n._v("181")]),s("br"),s("span",{staticClass:"line-number"},[n._v("182")]),s("br"),s("span",{staticClass:"line-number"},[n._v("183")]),s("br"),s("span",{staticClass:"line-number"},[n._v("184")]),s("br"),s("span",{staticClass:"line-number"},[n._v("185")]),s("br"),s("span",{staticClass:"line-number"},[n._v("186")]),s("br"),s("span",{staticClass:"line-number"},[n._v("187")]),s("br"),s("span",{staticClass:"line-number"},[n._v("188")]),s("br"),s("span",{staticClass:"line-number"},[n._v("189")]),s("br"),s("span",{staticClass:"line-number"},[n._v("190")]),s("br"),s("span",{staticClass:"line-number"},[n._v("191")]),s("br"),s("span",{staticClass:"line-number"},[n._v("192")]),s("br"),s("span",{staticClass:"line-number"},[n._v("193")]),s("br"),s("span",{staticClass:"line-number"},[n._v("194")]),s("br"),s("span",{staticClass:"line-number"},[n._v("195")]),s("br"),s("span",{staticClass:"line-number"},[n._v("196")]),s("br"),s("span",{staticClass:"line-number"},[n._v("197")]),s("br"),s("span",{staticClass:"line-number"},[n._v("198")]),s("br"),s("span",{staticClass:"line-number"},[n._v("199")]),s("br"),s("span",{staticClass:"line-number"},[n._v("200")]),s("br"),s("span",{staticClass:"line-number"},[n._v("201")]),s("br"),s("span",{staticClass:"line-number"},[n._v("202")]),s("br"),s("span",{staticClass:"line-number"},[n._v("203")]),s("br"),s("span",{staticClass:"line-number"},[n._v("204")]),s("br"),s("span",{staticClass:"line-number"},[n._v("205")]),s("br"),s("span",{staticClass:"line-number"},[n._v("206")]),s("br"),s("span",{staticClass:"line-number"},[n._v("207")]),s("br"),s("span",{staticClass:"line-number"},[n._v("208")]),s("br"),s("span",{staticClass:"line-number"},[n._v("209")]),s("br"),s("span",{staticClass:"line-number"},[n._v("210")]),s("br"),s("span",{staticClass:"line-number"},[n._v("211")]),s("br"),s("span",{staticClass:"line-number"},[n._v("212")]),s("br"),s("span",{staticClass:"line-number"},[n._v("213")]),s("br"),s("span",{staticClass:"line-number"},[n._v("214")]),s("br"),s("span",{staticClass:"line-number"},[n._v("215")]),s("br"),s("span",{staticClass:"line-number"},[n._v("216")]),s("br"),s("span",{staticClass:"line-number"},[n._v("217")]),s("br"),s("span",{staticClass:"line-number"},[n._v("218")]),s("br"),s("span",{staticClass:"line-number"},[n._v("219")]),s("br"),s("span",{staticClass:"line-number"},[n._v("220")]),s("br"),s("span",{staticClass:"line-number"},[n._v("221")]),s("br"),s("span",{staticClass:"line-number"},[n._v("222")]),s("br"),s("span",{staticClass:"line-number"},[n._v("223")]),s("br"),s("span",{staticClass:"line-number"},[n._v("224")]),s("br"),s("span",{staticClass:"line-number"},[n._v("225")]),s("br"),s("span",{staticClass:"line-number"},[n._v("226")]),s("br"),s("span",{staticClass:"line-number"},[n._v("227")]),s("br"),s("span",{staticClass:"line-number"},[n._v("228")]),s("br"),s("span",{staticClass:"line-number"},[n._v("229")]),s("br"),s("span",{staticClass:"line-number"},[n._v("230")]),s("br"),s("span",{staticClass:"line-number"},[n._v("231")]),s("br"),s("span",{staticClass:"line-number"},[n._v("232")]),s("br"),s("span",{staticClass:"line-number"},[n._v("233")]),s("br"),s("span",{staticClass:"line-number"},[n._v("234")]),s("br"),s("span",{staticClass:"line-number"},[n._v("235")]),s("br"),s("span",{staticClass:"line-number"},[n._v("236")]),s("br"),s("span",{staticClass:"line-number"},[n._v("237")]),s("br"),s("span",{staticClass:"line-number"},[n._v("238")]),s("br"),s("span",{staticClass:"line-number"},[n._v("239")]),s("br"),s("span",{staticClass:"line-number"},[n._v("240")]),s("br"),s("span",{staticClass:"line-number"},[n._v("241")]),s("br"),s("span",{staticClass:"line-number"},[n._v("242")]),s("br"),s("span",{staticClass:"line-number"},[n._v("243")]),s("br"),s("span",{staticClass:"line-number"},[n._v("244")]),s("br"),s("span",{staticClass:"line-number"},[n._v("245")]),s("br"),s("span",{staticClass:"line-number"},[n._v("246")]),s("br"),s("span",{staticClass:"line-number"},[n._v("247")]),s("br"),s("span",{staticClass:"line-number"},[n._v("248")]),s("br"),s("span",{staticClass:"line-number"},[n._v("249")]),s("br"),s("span",{staticClass:"line-number"},[n._v("250")]),s("br"),s("span",{staticClass:"line-number"},[n._v("251")]),s("br"),s("span",{staticClass:"line-number"},[n._v("252")]),s("br"),s("span",{staticClass:"line-number"},[n._v("253")]),s("br"),s("span",{staticClass:"line-number"},[n._v("254")]),s("br"),s("span",{staticClass:"line-number"},[n._v("255")]),s("br"),s("span",{staticClass:"line-number"},[n._v("256")]),s("br"),s("span",{staticClass:"line-number"},[n._v("257")]),s("br"),s("span",{staticClass:"line-number"},[n._v("258")]),s("br"),s("span",{staticClass:"line-number"},[n._v("259")]),s("br"),s("span",{staticClass:"line-number"},[n._v("260")]),s("br"),s("span",{staticClass:"line-number"},[n._v("261")]),s("br"),s("span",{staticClass:"line-number"},[n._v("262")]),s("br"),s("span",{staticClass:"line-number"},[n._v("263")]),s("br"),s("span",{staticClass:"line-number"},[n._v("264")]),s("br"),s("span",{staticClass:"line-number"},[n._v("265")]),s("br"),s("span",{staticClass:"line-number"},[n._v("266")]),s("br"),s("span",{staticClass:"line-number"},[n._v("267")]),s("br"),s("span",{staticClass:"line-number"},[n._v("268")]),s("br"),s("span",{staticClass:"line-number"},[n._v("269")]),s("br"),s("span",{staticClass:"line-number"},[n._v("270")]),s("br"),s("span",{staticClass:"line-number"},[n._v("271")]),s("br"),s("span",{staticClass:"line-number"},[n._v("272")]),s("br"),s("span",{staticClass:"line-number"},[n._v("273")]),s("br"),s("span",{staticClass:"line-number"},[n._v("274")]),s("br"),s("span",{staticClass:"line-number"},[n._v("275")]),s("br"),s("span",{staticClass:"line-number"},[n._v("276")]),s("br"),s("span",{staticClass:"line-number"},[n._v("277")]),s("br"),s("span",{staticClass:"line-number"},[n._v("278")]),s("br"),s("span",{staticClass:"line-number"},[n._v("279")]),s("br"),s("span",{staticClass:"line-number"},[n._v("280")]),s("br"),s("span",{staticClass:"line-number"},[n._v("281")]),s("br"),s("span",{staticClass:"line-number"},[n._v("282")]),s("br"),s("span",{staticClass:"line-number"},[n._v("283")]),s("br"),s("span",{staticClass:"line-number"},[n._v("284")]),s("br"),s("span",{staticClass:"line-number"},[n._v("285")]),s("br"),s("span",{staticClass:"line-number"},[n._v("286")]),s("br"),s("span",{staticClass:"line-number"},[n._v("287")]),s("br"),s("span",{staticClass:"line-number"},[n._v("288")]),s("br"),s("span",{staticClass:"line-number"},[n._v("289")]),s("br"),s("span",{staticClass:"line-number"},[n._v("290")]),s("br"),s("span",{staticClass:"line-number"},[n._v("291")]),s("br"),s("span",{staticClass:"line-number"},[n._v("292")]),s("br"),s("span",{staticClass:"line-number"},[n._v("293")]),s("br"),s("span",{staticClass:"line-number"},[n._v("294")]),s("br"),s("span",{staticClass:"line-number"},[n._v("295")]),s("br"),s("span",{staticClass:"line-number"},[n._v("296")]),s("br"),s("span",{staticClass:"line-number"},[n._v("297")]),s("br"),s("span",{staticClass:"line-number"},[n._v("298")]),s("br"),s("span",{staticClass:"line-number"},[n._v("299")]),s("br"),s("span",{staticClass:"line-number"},[n._v("300")]),s("br"),s("span",{staticClass:"line-number"},[n._v("301")]),s("br"),s("span",{staticClass:"line-number"},[n._v("302")]),s("br"),s("span",{staticClass:"line-number"},[n._v("303")]),s("br"),s("span",{staticClass:"line-number"},[n._v("304")]),s("br"),s("span",{staticClass:"line-number"},[n._v("305")]),s("br"),s("span",{staticClass:"line-number"},[n._v("306")]),s("br"),s("span",{staticClass:"line-number"},[n._v("307")]),s("br"),s("span",{staticClass:"line-number"},[n._v("308")]),s("br"),s("span",{staticClass:"line-number"},[n._v("309")]),s("br"),s("span",{staticClass:"line-number"},[n._v("310")]),s("br"),s("span",{staticClass:"line-number"},[n._v("311")]),s("br"),s("span",{staticClass:"line-number"},[n._v("312")]),s("br"),s("span",{staticClass:"line-number"},[n._v("313")]),s("br"),s("span",{staticClass:"line-number"},[n._v("314")]),s("br"),s("span",{staticClass:"line-number"},[n._v("315")]),s("br"),s("span",{staticClass:"line-number"},[n._v("316")]),s("br"),s("span",{staticClass:"line-number"},[n._v("317")]),s("br"),s("span",{staticClass:"line-number"},[n._v("318")]),s("br"),s("span",{staticClass:"line-number"},[n._v("319")]),s("br"),s("span",{staticClass:"line-number"},[n._v("320")]),s("br"),s("span",{staticClass:"line-number"},[n._v("321")]),s("br"),s("span",{staticClass:"line-number"},[n._v("322")]),s("br"),s("span",{staticClass:"line-number"},[n._v("323")]),s("br"),s("span",{staticClass:"line-number"},[n._v("324")]),s("br"),s("span",{staticClass:"line-number"},[n._v("325")]),s("br"),s("span",{staticClass:"line-number"},[n._v("326")]),s("br"),s("span",{staticClass:"line-number"},[n._v("327")]),s("br"),s("span",{staticClass:"line-number"},[n._v("328")]),s("br"),s("span",{staticClass:"line-number"},[n._v("329")]),s("br"),s("span",{staticClass:"line-number"},[n._v("330")]),s("br"),s("span",{staticClass:"line-number"},[n._v("331")]),s("br"),s("span",{staticClass:"line-number"},[n._v("332")]),s("br"),s("span",{staticClass:"line-number"},[n._v("333")]),s("br"),s("span",{staticClass:"line-number"},[n._v("334")]),s("br"),s("span",{staticClass:"line-number"},[n._v("335")]),s("br"),s("span",{staticClass:"line-number"},[n._v("336")]),s("br"),s("span",{staticClass:"line-number"},[n._v("337")]),s("br"),s("span",{staticClass:"line-number"},[n._v("338")]),s("br"),s("span",{staticClass:"line-number"},[n._v("339")]),s("br"),s("span",{staticClass:"line-number"},[n._v("340")]),s("br"),s("span",{staticClass:"line-number"},[n._v("341")]),s("br"),s("span",{staticClass:"line-number"},[n._v("342")]),s("br"),s("span",{staticClass:"line-number"},[n._v("343")]),s("br"),s("span",{staticClass:"line-number"},[n._v("344")]),s("br"),s("span",{staticClass:"line-number"},[n._v("345")]),s("br"),s("span",{staticClass:"line-number"},[n._v("346")]),s("br"),s("span",{staticClass:"line-number"},[n._v("347")]),s("br"),s("span",{staticClass:"line-number"},[n._v("348")]),s("br"),s("span",{staticClass:"line-number"},[n._v("349")]),s("br"),s("span",{staticClass:"line-number"},[n._v("350")]),s("br"),s("span",{staticClass:"line-number"},[n._v("351")]),s("br"),s("span",{staticClass:"line-number"},[n._v("352")]),s("br"),s("span",{staticClass:"line-number"},[n._v("353")]),s("br"),s("span",{staticClass:"line-number"},[n._v("354")]),s("br"),s("span",{staticClass:"line-number"},[n._v("355")]),s("br"),s("span",{staticClass:"line-number"},[n._v("356")]),s("br"),s("span",{staticClass:"line-number"},[n._v("357")]),s("br"),s("span",{staticClass:"line-number"},[n._v("358")]),s("br"),s("span",{staticClass:"line-number"},[n._v("359")]),s("br"),s("span",{staticClass:"line-number"},[n._v("360")]),s("br"),s("span",{staticClass:"line-number"},[n._v("361")]),s("br"),s("span",{staticClass:"line-number"},[n._v("362")]),s("br"),s("span",{staticClass:"line-number"},[n._v("363")]),s("br"),s("span",{staticClass:"line-number"},[n._v("364")]),s("br"),s("span",{staticClass:"line-number"},[n._v("365")]),s("br"),s("span",{staticClass:"line-number"},[n._v("366")]),s("br"),s("span",{staticClass:"line-number"},[n._v("367")]),s("br"),s("span",{staticClass:"line-number"},[n._v("368")]),s("br"),s("span",{staticClass:"line-number"},[n._v("369")]),s("br"),s("span",{staticClass:"line-number"},[n._v("370")]),s("br"),s("span",{staticClass:"line-number"},[n._v("371")]),s("br"),s("span",{staticClass:"line-number"},[n._v("372")]),s("br"),s("span",{staticClass:"line-number"},[n._v("373")]),s("br"),s("span",{staticClass:"line-number"},[n._v("374")]),s("br"),s("span",{staticClass:"line-number"},[n._v("375")]),s("br"),s("span",{staticClass:"line-number"},[n._v("376")]),s("br"),s("span",{staticClass:"line-number"},[n._v("377")]),s("br"),s("span",{staticClass:"line-number"},[n._v("378")]),s("br"),s("span",{staticClass:"line-number"},[n._v("379")]),s("br"),s("span",{staticClass:"line-number"},[n._v("380")]),s("br"),s("span",{staticClass:"line-number"},[n._v("381")]),s("br"),s("span",{staticClass:"line-number"},[n._v("382")]),s("br"),s("span",{staticClass:"line-number"},[n._v("383")]),s("br"),s("span",{staticClass:"line-number"},[n._v("384")]),s("br"),s("span",{staticClass:"line-number"},[n._v("385")]),s("br"),s("span",{staticClass:"line-number"},[n._v("386")]),s("br"),s("span",{staticClass:"line-number"},[n._v("387")]),s("br"),s("span",{staticClass:"line-number"},[n._v("388")]),s("br"),s("span",{staticClass:"line-number"},[n._v("389")]),s("br"),s("span",{staticClass:"line-number"},[n._v("390")]),s("br"),s("span",{staticClass:"line-number"},[n._v("391")]),s("br"),s("span",{staticClass:"line-number"},[n._v("392")]),s("br"),s("span",{staticClass:"line-number"},[n._v("393")]),s("br"),s("span",{staticClass:"line-number"},[n._v("394")]),s("br"),s("span",{staticClass:"line-number"},[n._v("395")]),s("br"),s("span",{staticClass:"line-number"},[n._v("396")]),s("br"),s("span",{staticClass:"line-number"},[n._v("397")]),s("br"),s("span",{staticClass:"line-number"},[n._v("398")]),s("br"),s("span",{staticClass:"line-number"},[n._v("399")]),s("br"),s("span",{staticClass:"line-number"},[n._v("400")]),s("br"),s("span",{staticClass:"line-number"},[n._v("401")]),s("br"),s("span",{staticClass:"line-number"},[n._v("402")]),s("br"),s("span",{staticClass:"line-number"},[n._v("403")]),s("br"),s("span",{staticClass:"line-number"},[n._v("404")]),s("br"),s("span",{staticClass:"line-number"},[n._v("405")]),s("br"),s("span",{staticClass:"line-number"},[n._v("406")]),s("br"),s("span",{staticClass:"line-number"},[n._v("407")]),s("br"),s("span",{staticClass:"line-number"},[n._v("408")]),s("br"),s("span",{staticClass:"line-number"},[n._v("409")]),s("br"),s("span",{staticClass:"line-number"},[n._v("410")]),s("br"),s("span",{staticClass:"line-number"},[n._v("411")]),s("br"),s("span",{staticClass:"line-number"},[n._v("412")]),s("br"),s("span",{staticClass:"line-number"},[n._v("413")]),s("br"),s("span",{staticClass:"line-number"},[n._v("414")]),s("br"),s("span",{staticClass:"line-number"},[n._v("415")]),s("br"),s("span",{staticClass:"line-number"},[n._v("416")]),s("br"),s("span",{staticClass:"line-number"},[n._v("417")]),s("br"),s("span",{staticClass:"line-number"},[n._v("418")]),s("br"),s("span",{staticClass:"line-number"},[n._v("419")]),s("br"),s("span",{staticClass:"line-number"},[n._v("420")]),s("br"),s("span",{staticClass:"line-number"},[n._v("421")]),s("br"),s("span",{staticClass:"line-number"},[n._v("422")]),s("br"),s("span",{staticClass:"line-number"},[n._v("423")]),s("br"),s("span",{staticClass:"line-number"},[n._v("424")]),s("br"),s("span",{staticClass:"line-number"},[n._v("425")]),s("br"),s("span",{staticClass:"line-number"},[n._v("426")]),s("br"),s("span",{staticClass:"line-number"},[n._v("427")]),s("br"),s("span",{staticClass:"line-number"},[n._v("428")]),s("br"),s("span",{staticClass:"line-number"},[n._v("429")]),s("br"),s("span",{staticClass:"line-number"},[n._v("430")]),s("br"),s("span",{staticClass:"line-number"},[n._v("431")]),s("br"),s("span",{staticClass:"line-number"},[n._v("432")]),s("br"),s("span",{staticClass:"line-number"},[n._v("433")]),s("br"),s("span",{staticClass:"line-number"},[n._v("434")]),s("br"),s("span",{staticClass:"line-number"},[n._v("435")]),s("br"),s("span",{staticClass:"line-number"},[n._v("436")]),s("br"),s("span",{staticClass:"line-number"},[n._v("437")]),s("br"),s("span",{staticClass:"line-number"},[n._v("438")]),s("br"),s("span",{staticClass:"line-number"},[n._v("439")]),s("br"),s("span",{staticClass:"line-number"},[n._v("440")]),s("br"),s("span",{staticClass:"line-number"},[n._v("441")]),s("br"),s("span",{staticClass:"line-number"},[n._v("442")]),s("br"),s("span",{staticClass:"line-number"},[n._v("443")]),s("br"),s("span",{staticClass:"line-number"},[n._v("444")]),s("br"),s("span",{staticClass:"line-number"},[n._v("445")]),s("br"),s("span",{staticClass:"line-number"},[n._v("446")]),s("br"),s("span",{staticClass:"line-number"},[n._v("447")]),s("br"),s("span",{staticClass:"line-number"},[n._v("448")]),s("br"),s("span",{staticClass:"line-number"},[n._v("449")]),s("br"),s("span",{staticClass:"line-number"},[n._v("450")]),s("br"),s("span",{staticClass:"line-number"},[n._v("451")]),s("br"),s("span",{staticClass:"line-number"},[n._v("452")]),s("br"),s("span",{staticClass:"line-number"},[n._v("453")]),s("br"),s("span",{staticClass:"line-number"},[n._v("454")]),s("br"),s("span",{staticClass:"line-number"},[n._v("455")]),s("br"),s("span",{staticClass:"line-number"},[n._v("456")]),s("br"),s("span",{staticClass:"line-number"},[n._v("457")]),s("br"),s("span",{staticClass:"line-number"},[n._v("458")]),s("br"),s("span",{staticClass:"line-number"},[n._v("459")]),s("br"),s("span",{staticClass:"line-number"},[n._v("460")]),s("br"),s("span",{staticClass:"line-number"},[n._v("461")]),s("br"),s("span",{staticClass:"line-number"},[n._v("462")]),s("br"),s("span",{staticClass:"line-number"},[n._v("463")]),s("br"),s("span",{staticClass:"line-number"},[n._v("464")]),s("br"),s("span",{staticClass:"line-number"},[n._v("465")]),s("br"),s("span",{staticClass:"line-number"},[n._v("466")]),s("br"),s("span",{staticClass:"line-number"},[n._v("467")]),s("br"),s("span",{staticClass:"line-number"},[n._v("468")]),s("br"),s("span",{staticClass:"line-number"},[n._v("469")]),s("br"),s("span",{staticClass:"line-number"},[n._v("470")]),s("br"),s("span",{staticClass:"line-number"},[n._v("471")]),s("br"),s("span",{staticClass:"line-number"},[n._v("472")]),s("br"),s("span",{staticClass:"line-number"},[n._v("473")]),s("br"),s("span",{staticClass:"line-number"},[n._v("474")]),s("br"),s("span",{staticClass:"line-number"},[n._v("475")]),s("br"),s("span",{staticClass:"line-number"},[n._v("476")]),s("br"),s("span",{staticClass:"line-number"},[n._v("477")]),s("br"),s("span",{staticClass:"line-number"},[n._v("478")]),s("br"),s("span",{staticClass:"line-number"},[n._v("479")]),s("br"),s("span",{staticClass:"line-number"},[n._v("480")]),s("br"),s("span",{staticClass:"line-number"},[n._v("481")]),s("br"),s("span",{staticClass:"line-number"},[n._v("482")]),s("br"),s("span",{staticClass:"line-number"},[n._v("483")]),s("br"),s("span",{staticClass:"line-number"},[n._v("484")]),s("br"),s("span",{staticClass:"line-number"},[n._v("485")]),s("br"),s("span",{staticClass:"line-number"},[n._v("486")]),s("br"),s("span",{staticClass:"line-number"},[n._v("487")]),s("br"),s("span",{staticClass:"line-number"},[n._v("488")]),s("br"),s("span",{staticClass:"line-number"},[n._v("489")]),s("br"),s("span",{staticClass:"line-number"},[n._v("490")]),s("br"),s("span",{staticClass:"line-number"},[n._v("491")]),s("br"),s("span",{staticClass:"line-number"},[n._v("492")]),s("br"),s("span",{staticClass:"line-number"},[n._v("493")]),s("br"),s("span",{staticClass:"line-number"},[n._v("494")]),s("br"),s("span",{staticClass:"line-number"},[n._v("495")]),s("br"),s("span",{staticClass:"line-number"},[n._v("496")]),s("br"),s("span",{staticClass:"line-number"},[n._v("497")]),s("br"),s("span",{staticClass:"line-number"},[n._v("498")]),s("br"),s("span",{staticClass:"line-number"},[n._v("499")]),s("br"),s("span",{staticClass:"line-number"},[n._v("500")]),s("br"),s("span",{staticClass:"line-number"},[n._v("501")]),s("br"),s("span",{staticClass:"line-number"},[n._v("502")]),s("br"),s("span",{staticClass:"line-number"},[n._v("503")]),s("br"),s("span",{staticClass:"line-number"},[n._v("504")]),s("br"),s("span",{staticClass:"line-number"},[n._v("505")]),s("br"),s("span",{staticClass:"line-number"},[n._v("506")]),s("br"),s("span",{staticClass:"line-number"},[n._v("507")]),s("br")])]),s("p",[n._v("来看看Material材质的变量，在shader是什么样子")]),n._v(" "),s("ul",[s("li",[n._v("color: 材质的颜色，穿着布料的基本颜色， shader中color的定义和使用")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("// color的定义\n#ifdef USE_COLOR\n    attribute vec3 color;\n#endif\n\n// color的使用\n#ifdef USE_COLOR\n    vColor.xyz *= color.xyz;\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br")])]),s("ul",[s("li",[n._v("map:  材质的贴图，穿着布料上的图片，花纹")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("// map的定义\n#ifdef USE_MAP\n    uniform sampler2D map;\n#endif\n\n// map的使用\n #ifdef USE_MAP\n     vec4 texelColor = texture2D( map, vUv );\n     texelColor = mapTexelToLinear( texelColor );\n     diffuseColor *= texelColor;\n #endif\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br")])]),s("ul",[s("li",[n._v("lightmap: 灯光贴图，物体的不同部分对光有不同反映")]),n._v(" "),s("li",[n._v("aomap：环境光遮蔽体贴，就像画眼影，在一些细节支出，增加立体效果")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("// 定义\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n    attribute vec2 uv2;\n    varying vec2 vUv2;\n    uniform mat3 uv2Transform;\n#endif\n\n\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n        vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif\n\n// 使用\n#ifdef USE_LIGHTMAP\n        vec4 lightMapTexel = texture2D( lightMap, vUv2 );\n        reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n    #else\n        reflectedLight.indirectDiffuse += vec3( 1.0 );\n    #endif\n    #ifdef USE_AOMAP\n        float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n        reflectedLight.indirectDiffuse *= ambientOcclusion;\n        #if defined( USE_ENVMAP ) && defined( STANDARD )\n            float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n            reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n        #endif\n    #endif\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br")])]),s("ul",[s("li",[n._v("specularMap：高光贴图，就是一种特殊的贴图而已，打光")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("// 定义\n#ifdef USE_SPECULARMAP\n    uniform sampler2D specularMap;\n#endif\n\n// \n#ifdef USE_SPECULARMAP\n        vec4 texelSpecular = texture2D( specularMap, vUv );\n        specularStrength = texelSpecular.r;\n    #else\n        specularStrength = 1.0;\n    #endif\n    \n \n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br")])]),s("ul",[s("li",[n._v("envMap：环境贴图，就是整个环境在人身上的映射")]),n._v(" "),s("li",[n._v("combine：就是环境光贴图与灯光之间计算的方式，有三种：add, mix，multiply，计算方式不同，最终输出结果自然不同")])]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("   #ifdef ENVMAP_BLENDING_MULTIPLY\n            outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n            #elif defined( ENVMAP_BLENDING_MIX )\n            outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n            #elif defined( ENVMAP_BLENDING_ADD )\n            outgoingLight += envColor.xyz * specularStrength * reflectivity;\n        #endif\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br")])]),s("p",[n._v("随便改改参数，试试效果")]),n._v(" "),s("p",[s("img",{attrs:{src:"https://i.loli.net/2021/04/25/MpzvNYQcmyX8h4k.png",alt:"chrome_0o0oZWluLs.png"}})])])}),[],!1,null,null,null);e.default=t.exports}}]);