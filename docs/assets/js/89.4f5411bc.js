(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{687:function(t,e,r){"use strict";r.r(e);var s=r(4),o=Object(s.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("blockquote",[r("p",[t._v("原文请参考Cesium官方文档："),r("a",{attrs:{href:"https://cesium.com/docs/tutorials/cesium-unreal-adding-local-data/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Adding Local Data"),r("OutboundLink")],1)])]),t._v(" "),r("blockquote",[r("p",[t._v("上一篇："),r("RouterLink",{attrs:{to:"/views/Blog/cesium/cesium-flight-tracker.html"}},[t._v("（七）Cesium for Unreal创建航班追踪器（译）")])],1)]),t._v(" "),r("p",[t._v("在本教程中，您将学习如何使用"),r("strong",[t._v("Cesium for Unreal")]),t._v("将"),r("strong",[t._v("3D Tileset")]),t._v("从本地目录加载到项目中。")]),t._v(" "),r("h2",{attrs:{id:"准备工作"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[t._v("#")]),t._v(" 准备工作")]),t._v(" "),r("ul",[r("li",[t._v("安装了虚幻引擎（至少4.26或更高版本）和"),r("strong",[t._v("Cesium for Unreal")]),t._v("插件。")]),t._v(" "),r("li",[t._v("知道如何使用"),r("strong",[t._v("Cesium for Unreal")]),t._v("插件在虚幻引擎中创建关卡。")])]),t._v(" "),r("blockquote",[r("p",[t._v("您还是Cesium新手？请先学习"),r("RouterLink",{attrs:{to:"/views/Blog/cesium/cesium-unreal-quickstart.html"}},[t._v("（一）Cesium for Unreal快速入门（译）")]),t._v("教程。")],1)]),t._v(" "),r("h2",{attrs:{id:"设置关卡"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#设置关卡"}},[t._v("#")]),t._v(" 设置关卡")]),t._v(" "),r("p",[t._v("您可以从"),r("a",{attrs:{href:"https://www.unrealengine.com/marketplace/en-US/product/cesium-samples",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cesium for Unreal示例代码"),r("OutboundLink")],1),t._v("的01_CesiumWorld关卡开始本教程。您也可以创建一个新关卡，至少需要添加"),r("strong",[t._v("CesiumSunSky")]),t._v("和"),r("strong",[t._v("FloatingPawn")]),t._v(" Actor。\n"),r("img",{attrs:{src:"https://i.loli.net/2021/05/26/TNi9OMxyhSa5twd.png",alt:""}}),t._v(" "),r("em",[t._v("Cesium for Unreal示例的01_CesiumWorld关卡")])]),t._v(" "),r("blockquote",[r("p",[t._v("译者注：其实应该再加一个"),r("strong",[t._v("CesiumWorld Terrain")]),t._v("，否则界面一片空白，没有卫星图片、地形，添加的本地"),r("strong",[t._v("3D Tileset")]),t._v("也处于悬空状态。")])]),t._v(" "),r("h2",{attrs:{id:"从本地目录添加3d-tileset"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#从本地目录添加3d-tileset"}},[t._v("#")]),t._v(" 从本地目录添加3D Tileset")]),t._v(" "),r("p",[t._v("在这个章节，您将用3D Tileset添加一些不同高度的立方体。可以在"),r("a",{attrs:{href:"https://cesiumjs.s3.amazonaws.com/downloads/unreal-learning-content/Tileset.zip",target:"_blank",rel:"noopener noreferrer"}},[t._v("此处"),r("OutboundLink")],1),t._v("下载3D Tileset。确保下载整个Tileset文件夹，其中包括tileset.json文件以及所有引用的"),r("strong",[t._v("b3dm")]),t._v("文件。您也可以使用自己的"),r("strong",[t._v("3D Tileset")]),t._v("文件。")]),t._v(" "),r("blockquote",[r("p",[t._v("如果您还是头一次听说3D Tiles文件格式，请查看"),r("a",{attrs:{href:"https://github.com/CesiumGS/3d-tiles",target:"_blank",rel:"noopener noreferrer"}},[t._v("3D Tiles规范"),r("OutboundLink")],1),t._v("以了解更多信息。")])]),t._v(" "),r("ol",[r("li",[t._v("在编辑器左侧的"),r("strong",[t._v("Cesium")]),t._v("面板中，点击"),r("strong",[t._v("Add Blank")]),t._v("按钮。这步操作将往场景中添加一个新的、空白的"),r("strong",[t._v("Cesium3DTileset")]),t._v(" Actor。\n"),r("img",{attrs:{src:"https://i.loli.net/2021/05/26/3Vgt1mbnwyrMokB.png",alt:""}})])]),t._v(" "),r("p",[t._v("在"),r("strong",[t._v("World Outliner")]),t._v("中选择"),r("strong",[t._v("Cesium3DTileset")]),t._v(" Actor，并将其重命名为"),r("strong",[t._v("LocalTileset")]),t._v("。")]),t._v(" "),r("ol",{attrs:{start:"2"}},[r("li",[t._v("在"),r("strong",[t._v("Details")]),t._v("面板中，找到"),r("strong",[t._v("Cesium")]),t._v("类别。通常，要从"),r("a",{attrs:{href:"https://cesium.com/platform/cesium-ion/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cesium ion"),r("OutboundLink")],1),t._v("中加载数据，您需要填写"),r("strong",[t._v("Ion Asset ID")]),t._v("和"),r("strong",[t._v("Ion Access Token")]),t._v("属性。要加载本地数据，您将用"),r("strong",[t._v("3D Tileset")]),t._v("顶层"),r("strong",[t._v("tileset.json")]),t._v("文件的路径填写"),r("strong",[t._v("Url")]),t._v("字段。在本地文件系统中找到"),r("strong",[t._v("3D Tileset")]),t._v("数据。例如，如果目录为"),r("strong",[t._v("C:\\Users\\username\\document\\Unreal Projects\\CesiumForUnrealSamples\\Data\\Tileset\\tileset.json")]),t._v("，则需要将"),r("strong",[t._v("Url")]),t._v("设置为"),r("strong",[t._v("file:///C:/Users/username/document/Unreal Projects/CesiumForUnrealSamples/Data/Tileset/tileset.json")]),t._v("。请注意file后面的3个斜杠。\n"),r("img",{attrs:{src:"https://i.loli.net/2021/05/26/9Hob7hJ1GTlaUjS.png",alt:""}})])]),t._v(" "),r("blockquote",[r("p",[t._v("译者注：路径或者文件名不要有空格，否则会出现莫名其妙的问题。\n另外也可以将"),r("strong",[t._v("3D Tiles")]),t._v("资源发布在Web服务器上，通过HTTP的方式访问，比如"),r("strong",[t._v("http://127.0.0.1:8080/test/tileset.json")])])]),t._v(" "),r("p",[t._v("在"),r("strong",[t._v("World Outliner")]),t._v("中，双击"),r("strong",[t._v("LocalTileset")]),t._v(" Actor，让该Actor在编辑器主窗口中居中显示。地球和刚添加的资产的方向可能不对，如下所示：\n"),r("img",{attrs:{src:"https://i.loli.net/2021/05/26/mpjzTYJ9qf58cUN.png",alt:""}})]),t._v(" "),r("p",[t._v("这是因为"),r("strong",[t._v("LocalTileset")]),t._v(" Actor离"),r("strong",[t._v("CesiumGeoreference")]),t._v(" Actor的原点太远了导致的。")]),t._v(" "),r("blockquote",[r("p",[t._v("译者注：如果没用本教程提供的"),r("strong",[t._v("3D Tileset")]),t._v("，而是用了自己的本地"),r("strong",[t._v("3D Tileset")]),t._v("，有可能这个"),r("strong",[t._v("3D Tileset")]),t._v("所处的地方正好是晚上，界面一片漆黑，可以调整"),r("strong",[t._v("SunSky")]),t._v("的时间，具体可以参考"),r("RouterLink",{attrs:{to:"/views/Blog/cesium/cesium-photogrammetry.html"}},[t._v("（二）添加倾斜摄影模型（译）")]),t._v("教程。")],1)]),t._v(" "),r("ol",{attrs:{start:"3"}},[r("li",[r("p",[t._v("保持"),r("strong",[t._v("LocalTileset")]),t._v(" Actor在编辑器窗口中居中显示，在"),r("strong",[t._v("World Outliner")]),t._v("中选择"),r("strong",[t._v("CesiumGeoreference")]),t._v(" Actor，然后找到"),r("strong",[t._v("Place Georeference Origin Here")]),t._v("按钮。单击此按钮可以重新设定世界原点。\n"),r("img",{attrs:{src:"https://i.loli.net/2021/05/26/jnZBepr82GbFSuw.png",alt:""}})])]),t._v(" "),r("li",[r("p",[t._v("在"),r("strong",[t._v("Details")]),t._v("面板中调整LocalTileset的位置"),r("strong",[t._v("Location")]),t._v("，将其放置在需要的地方。例如，要将"),r("strong",[t._v("3D Tileset")]),t._v("贴在地形上，请将"),r("strong",[t._v("Location")]),t._v("的Z坐标更改为7400。\n"),r("img",{attrs:{src:"https://i.loli.net/2021/05/26/YhnVXmU8cf91v6k.png",alt:""}})])])]),t._v(" "),r("blockquote",[r("p",[t._v("目前"),r("strong",[t._v("Cesium for Unreal")]),t._v("不支持加载本地"),r("strong",[t._v("quantized-mesh")]),t._v("地形文件。但是，可以从任何服务器（包括本机"),r("strong",[t._v("localhost")]),t._v("）加载地形资产。要完全离线加载地形资产，请考虑设置本机"),r("strong",[t._v("localhost")]),t._v("地形服务。可以使用与上述相同的步骤，用"),r("strong",[t._v("http://localhost:portNumber/terrainAsset")]),t._v("设置"),r("strong",[t._v("Url")]),t._v("属性。")])]),t._v(" "),r("blockquote",[r("p",[t._v("译者注：译者还没有成功加载过本地地形和影像资源，有大神知道如何加载的话，请留言告知，不胜感激！")])]),t._v(" "),r("h2",{attrs:{id:"资源链接"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#资源链接"}},[t._v("#")]),t._v(" 资源链接")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/CesiumGS/3d-tiles",target:"_blank",rel:"noopener noreferrer"}},[t._v("3D Tiles规格"),r("OutboundLink")],1)]),t._v(" "),r("li",[t._v("虚幻市场上的"),r("a",{attrs:{href:"https://www.unrealengine.com/marketplace/en-US/product/cesium-samples",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cesium for Unreal示例"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("RouterLink",{attrs:{to:"/views/Blog/cesium/cesium-unreal-quickstart.html"}},[t._v("Cesium for Unreal快速入门教程")])],1),t._v(" "),r("li",[r("a",{attrs:{href:"https://cesium.com/docs/tutorials/uploading/",target:"_blank",rel:"noopener noreferrer"}},[t._v("上传数据到Cesium ion指南"),r("OutboundLink")],1)])]),t._v(" "),r("p",[t._v("都看到这里了，加个技术交流群一起组队研究呗^^")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://i.loli.net/2021/05/09/HzUyekM3QNoblKv.png",alt:""}})])])}),[],!1,null,null,null);e.default=o.exports}}]);